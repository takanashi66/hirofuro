!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=248)}({248:function(t,e,n){n(249),t.exports=n(251)},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(250),r=n.n(o);document.addEventListener("DOMContentLoaded",function(){new r.a({trigger:"a[href^='#']"})},!1)},250:function(t,e,n){var o;o=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},e=!("undefined"==typeof window||!window.document||!window.document.createElement),n=!!e&&(window.history&&"pushState"in window.history&&"file:"!==window.location.protocol),o=function(){var t=!1;if(!e)return t;try{var n=window,o=Object.defineProperty({},"passive",{get:function(){t=!0}});n.addEventListener("test",null,o),n.removeEventListener("test",null,o)}catch(t){}return t}(),r=function(t){return"string"==typeof t},i=function(t){return"function"==typeof t},u=function(t){return Array.isArray(t)},a=function(t,e){return t&&t.hasOwnProperty(e)},l=e?window.requestAnimationFrame.bind(window):null,s=e?window.cancelAnimationFrame.bind(window):null,c=Math.cos,f=Math.sin,p=Math.pow,h=Math.sqrt,d=Math.PI,v={linear:function(t){return t},easeInQuad:function(t,e,n,o,r){return o*(e/=r)*e+n},easeOutQuad:function(t,e,n,o,r){return-o*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,o,r){return o*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,o,r){return o*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,o,r){return o*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,o,r){return-o*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,o,r){return o*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,o,r){return o*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,o,r){return-o*c(e/r*(d/2))+o+n},easeOutSine:function(t,e,n,o,r){return o*f(e/r*(d/2))+n},easeInOutSine:function(t,e,n,o,r){return-o/2*(c(d*e/r)-1)+n},easeInExpo:function(t,e,n,o,r){return 0===e?n:o*p(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,o,r){return e===r?n+o:o*(1-p(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,o,r){return 0===e?n:e===r?n+o:(e/=r/2)<1?o/2*p(2,10*(e-1))+n:o/2*(2-p(2,-10*--e))+n},easeInCirc:function(t,e,n,o,r){return-o*(h(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,o,r){return o*h(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,o,r){return(e/=r/2)<1?-o/2*(h(1-e*e)-1)+n:o/2*(h(1-(e-=2)*e)+1)+n}},g=function(t){return Array.prototype.slice.call(t?document.querySelectorAll(t):[])},w=function(t){return g(t).shift()||null},m=function(t){return t instanceof Element},y=function(t){return t===window},x=function(t){return t===document.documentElement||t===document.body},b=function(t,e){if(m(e))return t===e;for(var n=g(e),o=n.length;--o>=0&&n[o]!==t;);return o>-1},O=function(t){return Math.max(t.scrollHeight,t.clientHeight,t.offsetHeight)},M=function(t){return Math.max(t.scrollWidth,t.clientWidth,t.offsetWidth)},$=function(t){return{width:M(t),height:O(t)}},E={y:"scrollTop",x:"scrollLeft"},I={y:"pageYOffset",x:"pageXOffset"},C=function(t,e){return y(t)?t[I[e]]:t[E[e]]},k=function(t,e,n){if(y(t)){var o="y"===n;t.scrollTo(o?t.pageXOffset:e,o?e:t.pageYOffset)}else t[E[n]]=e},P=function(t,e){var n=t.getBoundingClientRect();if(n.width||n.height){var o={top:0,left:0},r=void 0;if(y(e)||x(e))r=document.documentElement,o.top=window[I.y],o.left=window[I.x];else{var i=(r=e).getBoundingClientRect();o.top=-1*i.top+r[E.y],o.left=-1*i.left+r[E.x]}return{top:n.top+o.top-r.clientTop,left:n.left+o.left-r.clientLeft}}return n},L=e?"onwheel"in document?"wheel":"mousewheel":"wheel",S=function(t,e,n,r,i){n.split(" ").forEach(function(n){t[e](function(t){return"wheel"===t?L:t}(n),r,!!o&&{passive:i})})},A=function(t,e,n,o){return S(t,"addEventListener",e,n,o)},Q=function(t,e,n,o){return S(t,"removeEventListener",e,n,o)},j=/^(\+|-)=(\d+(?:\.\d+)?)$/,z=function(e,n){var o,i={top:0,left:0,relative:!1};if(a(e,"top")||a(e,"left"))i=t({},i,e);else if(u(e))if(e.length>1)i.top=e[0],i.left=e[1];else{if(1!==e.length)return null;i.top=n?e[0]:0,i.left=n?0:e[0]}else if(!u(o=e)&&o-parseFloat(o)+1>=0)n?i.top=e:i.left=e;else{if(!r(e))return null;var l=e.trim().match(j);if(!l)return null;var s=l[1],c=parseInt(l[2],10);"+"===s?(i.top=n?c:0,i.left=n?0:c):(i.top=n?-c:0,i.left=n?0:-c),i.relative=!0}return i},W={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,easing:"easeOutQuint",offset:0,vertical:!0,horizontal:!1,cancellable:!0,updateURL:!1,preventDefault:!0,stopPropagation:!0,before:null,after:null,cancel:null,complete:null,step:null};return function(){function o(n,r){var i=this;this.$el=null,this.ctx={$trigger:null,opts:null,progress:!1,pos:null,startPos:null,easing:null,start:0,id:0,cancel:!1,hash:null},this.loop=function(t){var e=i,n=e.$el,r=e.ctx;if(r.start||(r.start=t),r.progress&&n){var u=r.opts,a=r.pos,l=r.start,s=r.startPos,c=r.easing,f=u.duration,p={top:"y",left:"x"},h=t-l,d=Math.min(1,Math.max(h/f,0));Object.keys(a).forEach(function(t){var e=a[t],o=s[t],r=e-o;if(0!==r){var i=c(d,f*d,0,1,f);k(n,Math.round(o+r*i),p[t])}}),h<=f?(i.hook(u,"step",d),r.id=o.raf(i.loop)):i.stop(!0)}else i.stop()},this.handleClick=function(e){for(var n=i.opts,o=e.target;o&&o!==document;o=o.parentNode)if(b(o,n.trigger)){var r=JSON.parse(o.getAttribute("data-scroll-options")||"{}"),u=o.getAttribute("data-scroll")||o.getAttribute("href"),a=t({},n,r),l=a.preventDefault,s=a.stopPropagation,c=a.vertical,f=a.horizontal;l&&e.preventDefault(),s&&e.stopPropagation(),i.ctx.$trigger=o,f&&c?i.to(u,a):c?i.toTop(u,a):f&&i.toLeft(u,a);break}},this.handleStop=function(t){var e=i.ctx,n=e.opts;n&&n.cancellable?(e.cancel=!0,i.stop()):t.preventDefault()},this.opts=t({},W,n||{});var u=null;e&&(u="string"==typeof r?w(r):null!=r?r:window),this.$el=u,u&&this.bind(!0,!1)}return o.create=function(t,e){return new o(t,e)},o.prototype.to=function(n,o){if(e){var i=this.$el,u=this.ctx,a=this.opts,l=u.$trigger,s=t({},a,o||{}),c=s.offset,f=s.vertical,p=s.horizontal,h=m(s.header)?s.header:w(s.header),d=r(n)&&/^#/.test(n)?n:null;if(u.opts=s,u.cancel=!1,u.hash=d,this.stop(),i){var v=z(c,f),g=z(n,f),b={top:0,left:0};if(g)if(g.relative){var E=C(i,f?"y":"x");b.top=f?E+g.top:g.top,b.left=f?g.left:E+g.left}else b=g;else if(r(n)&&"#"!==n){var I=w(n);if(!I)return;b=P(I,i)}v&&(b.top+=v.top,b.left+=v.left),h&&(b.top=Math.max(0,b.top-$(h).height));var k=function(t){var e=y(t)||x(t);return{viewport:{width:e?Math.min(window.innerWidth,document.documentElement.clientWidth):t.clientWidth,height:e?window.innerHeight:t.clientHeight},size:e?{width:Math.max(M(document.body),M(document.documentElement)),height:Math.max(O(document.body),O(document.documentElement))}:$(t)}}(i),L=k.viewport,S=k.size;b.top=f?Math.max(0,Math.min(S.height-L.height,b.top)):C(i,"y"),b.left=p?Math.max(0,Math.min(S.width-L.width,b.left)):C(i,"x"),!1!==this.hook(s,"before",b,l)?(u.pos=b,this.start(s),this.bind(!1,!0)):u.opts=null}}},o.prototype.toTop=function(e,n){this.to(e,t({},n||{},{vertical:!0,horizontal:!1}))},o.prototype.toLeft=function(e,n){this.to(e,t({},n||{},{vertical:!1,horizontal:!0}))},o.prototype.toElement=function(t,n){var o=this.$el;e&&o&&this.to(P(t,o),n||{})},o.prototype.stop=function(t){void 0===t&&(t=!1);var e=this.$el,n=this.ctx,r=n.pos;e&&n.progress&&(o.caf(n.id),n.progress=!1,n.start=0,n.id=0,t&&r&&(k(e,r.left,"x"),k(e,r.top,"y")),this.complete())},o.prototype.update=function(e){if(this.$el){var n=t({},this.opts,e);this.stop(),this.unbind(!0,!0),this.opts=n,this.bind(!0,!1)}},o.prototype.destroy=function(){this.$el&&(this.stop(),this.unbind(!0,!0),this.$el=null)},o.prototype.onBefore=function(t,e){return!0},o.prototype.onStep=function(t){},o.prototype.onAfter=function(t,e){},o.prototype.onCancel=function(){},o.prototype.onComplete=function(t){},o.prototype.start=function(t){var e=this.ctx;e.opts=t,e.progress=!0,e.easing=i(t.easing)?t.easing:v[t.easing];var n=this.$el,r={top:C(n,"y"),left:C(n,"x")};e.startPos=r,e.id=o.raf(this.loop)},o.prototype.complete=function(){var t=this.$el,o=this.ctx,r=o.hash,i=o.cancel,u=o.opts,a=o.pos,l=o.$trigger;if(t&&u){if(null!=r&&r!==window.location.hash){var s=u.updateURL;e&&n&&!1!==s&&window.history["replace"===s?"replaceState":"pushState"](null,"",r)}this.unbind(!1,!0),o.opts=null,o.$trigger=null,i?this.hook(u,"cancel"):this.hook(u,"after",a,l),this.hook(u,"complete",i)}},o.prototype.hook=function(t,e){for(var n,o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var u,a,l=t[e];return i(l)&&(u=l.apply(this,o.concat([this]))),a=(n=this)["on"+(e[0].toUpperCase()+e.slice(1))].apply(n,o),void 0!==u?u:a},o.prototype.bind=function(t,e){var n=this.$el,o=this.ctx.opts;n&&(t&&A(n,"click",this.handleClick,!1),e&&A(n,"wheel touchstart touchmove",this.handleStop,!o||o.cancellable))},o.prototype.unbind=function(t,e){var n=this.$el,o=this.ctx.opts;n&&(t&&Q(n,"click",this.handleClick,!1),e&&Q(n,"wheel touchstart touchmove",this.handleStop,!o||o.cancellable))},o.raf=l,o.caf=s,o}()},t.exports=o()},251:function(t,e){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzk4N2QxZDNiMDJiZjNiYjk3ODYiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N3ZWV0LXNjcm9sbC9zd2VldC1zY3JvbGwuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJ2YWx1ZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9zd2VldF9zY3JvbGxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9zd2VldF9zY3JvbGxfX19kZWZhdWx0IiwiZG9jdW1lbnQiLCJhIiwidHJpZ2dlciIsImZhY3RvcnkiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsInRoaXMiLCJjYW5Vc2VET00iLCJ3aW5kb3ciLCJjcmVhdGVFbGVtZW50IiwiY2FuVXNlSGlzdG9yeSIsImhpc3RvcnkiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiY2FuVXNlUGFzc2l2ZU9wdGlvbiIsInN1cHBvcnQiLCJ3aW4iLCJvcHRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwiaXNTdHJpbmciLCJvYmoiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsIkFycmF5IiwiaGFzUHJvcCIsImtleSIsInJhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJjYWYiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNvcyIsIk1hdGgiLCJzaW4iLCJwb3ciLCJzcXJ0IiwiUEkiLCJlYXNpbmdzIiwibGluZWFyIiwiZWFzZUluUXVhZCIsIl8iLCJiIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiJCQiLCJzZWxlY3RvciIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsIiQiLCJzaGlmdCIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJpc1dpbmRvdyIsIiRlbCIsImlzUm9vdENvbnRhaW5lciIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJtYXRjaGVzIiwicmVzdWx0cyIsImdldEhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsIm9mZnNldEhlaWdodCIsImdldFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsIm9mZnNldFdpZHRoIiwiZ2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGlyZWN0aW9uTWV0aG9kTWFwIiwieSIsIngiLCJkaXJlY3Rpb25Qcm9wTWFwIiwiZ2V0U2Nyb2xsIiwiZGlyZWN0aW9uIiwic2V0U2Nyb2xsIiwib2Zmc2V0IiwidG9wXzEiLCJzY3JvbGxUbyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJnZXRPZmZzZXQiLCIkY29udGV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JvbGxfMSIsInRvcCIsImxlZnQiLCIkY3R4IiwiY1JlY3QiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwid2hlZWxFdmVudE5hbWUiLCJtZXRob2QiLCJldmVudCIsImxpc3RlbmVyIiwicGFzc2l2ZSIsInNwbGl0IiwiZm9yRWFjaCIsImV2ZW50TmFtZSIsImFkZEV2ZW50IiwicmVtb3ZlRXZlbnQiLCJyZVJlbGF0aXZlVG9rZW4iLCJwYXJzZUNvb3JkaW5hdGUiLCJjb29yZGluYXRlIiwiZW5hYmxlVmVydGljYWwiLCJyZXMiLCJyZWxhdGl2ZSIsInBhcnNlRmxvYXQiLCJ0cmltIiwibWF0Y2giLCJvcCIsInZhbCIsInBhcnNlSW50IiwiZGVmYXVsdE9wdGlvbnMiLCJoZWFkZXIiLCJkdXJhdGlvbiIsImVhc2luZyIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsImNhbmNlbGxhYmxlIiwidXBkYXRlVVJMIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJiZWZvcmUiLCJhZnRlciIsImNhbmNlbCIsImNvbXBsZXRlIiwic3RlcCIsIlN3ZWV0U2Nyb2xsIiwib3B0aW9ucyIsImNvbnRhaW5lciIsIl90aGlzIiwiY3R4IiwiJHRyaWdnZXIiLCJwcm9ncmVzcyIsInBvcyIsInN0YXJ0UG9zIiwic3RhcnQiLCJpZCIsImhhc2giLCJsb29wIiwidGltZSIsIl9hIiwic3RhcnRPZmZzZXQiLCJkaXJlY3Rpb25NYXAiLCJ0aW1lRWxhcHNlZCIsIm1pbiIsImtleXMiLCJpbml0aWFsIiwiZGVsdGEiLCJyb3VuZCIsImhvb2siLCJzdG9wIiwiaGFuZGxlQ2xpY2siLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZGF0YU9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJnZXRBdHRyaWJ1dGUiLCJ0byIsInRvVG9wIiwidG9MZWZ0IiwiaGFuZGxlU3RvcCIsIiRjb250YWluZXIiLCJjcmVhdGUiLCJkaXN0YW5jZSIsImN1cnJlbnRPcHRpb25zIiwib3B0T2Zmc2V0IiwiJGhlYWRlciIsInRlc3QiLCJzY3JvbGwiLCJjdXJyZW50IiwiJHRhcmdldCIsIl9iIiwiaXNSb290Iiwidmlld3BvcnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzaXplIiwiZ2V0Vmlld3BvcnRBbmRFbGVtZW50U2l6ZXMiLCJ0b0VsZW1lbnQiLCIkZWxlbWVudCIsImdvdG9FbmQiLCJ1cGRhdGUiLCJ1bmJpbmQiLCJkZXN0cm95Iiwib25CZWZvcmUiLCJfXyIsIm9uU3RlcCIsIm9uQWZ0ZXIiLCJvbkNhbmNlbCIsIm9uQ29tcGxldGUiLCJ0eXBlIiwiYXJncyIsIl9pIiwiY2FsbGJhY2tSZXN1bHQiLCJtZXRob2RSZXN1bHQiLCJjYWxsYmFjayIsImNvbmNhdCIsInRvVXBwZXJDYXNlIiwidW5kZWZpbmVkIiwiY2xpY2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWhCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQWlCLFdBQ0EsV0FBMkIsT0FBQWpCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxF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RSxHQVNBLE9BTEFqTSxFQUFBc00sS0FDQUYsRUFBQUUsRUFBQXhOLE1BQUFDLEtBQUFtTixFQUFBSyxRQUFBeE4sU0FHQXNOLEdBQUF2RCxFQUFBL0osTUFBQSxNQUFBa04sRUFBQSxHQUFBTyxjQUFBUCxFQUFBdEosTUFBQSxLQUFBN0QsTUFBQWdLLEVBQUFvRCxRQUNBTyxJQUFBTCxJQUFBQyxHQUtBckUsRUFBQW5LLFVBQUEwQyxLQUFBLFNBQUFtTSxFQUFBbEQsR0FDQSxJQUFBdEcsRUFBQW5FLEtBQUFtRSxJQUFBeEQsRUFBQVgsS0FBQXFKLElBQUExSSxLQUNBd0QsSUFDQXdKLEdBQ0F2RyxFQUFBakQsRUFqV0EsUUFpV0FuRSxLQUFBMEssYUFBQSxHQUVBRCxHQUNBckQsRUFBQWpELEVBbldBLDZCQW1XQW5FLEtBQUFvTCxZQUFBekssS0FBQTZILGVBT0FTLEVBQUFuSyxVQUFBNE4sT0FBQSxTQUFBaUIsRUFBQWxELEdBQ0EsSUFBQXRHLEVBQUFuRSxLQUFBbUUsSUFBQXhELEVBQUFYLEtBQUFxSixJQUFBMUksS0FDQXdELElBQ0F3SixHQUNBdEcsRUFBQWxELEVBL1dBLFFBK1dBbkUsS0FBQTBLLGFBQUEsR0FFQUQsR0FDQXBELEVBQUFsRCxFQWpYQSw2QkFpWEFuRSxLQUFBb0wsWUFBQXpLLEtBQUE2SCxlQU9BUyxFQUFBM0gsTUFDQTJILEVBQUF4SCxNQUNBd0gsRUF6WEEsSUFqVGdFdkwsRUFBQUQsUUFBQWdDIiwiZmlsZSI6Ii9wdWJsaWMvY29tbW9uL2pzL3NjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyNDgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGM5ODdkMWQzYjAyYmYzYmI5Nzg2IiwiaW1wb3J0IFN3ZWV0U2Nyb2xsIGZyb20gJ3N3ZWV0LXNjcm9sbCc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IHN3ZWV0U2Nyb2xsID0gbmV3IFN3ZWV0U2Nyb2xsKHtcbiAgICAgIHRyaWdnZXI6IFwiYVtocmVmXj0nIyddXCJcbiAgfSk7XG59LCBmYWxzZSlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXNvdXJjZXMvYXNzZXRzL2pzL3NjcmlwdC5qcyIsIi8qISBAcHJlc2VydmUgc3dlZXQtc2Nyb2xsIHY0LjAuMCAtIHRzdXlvc2hpd2FkYSB8IE1JVCBMaWNlbnNlICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLlN3ZWV0U2Nyb2xsID0gZmFjdG9yeSgpKTtcbn0odGhpcywgZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG4gICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcbiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG4gICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcbiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcblxuICAgIC8vIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9KZWRXYXRzb24vZXhlbnYvYmxvYi9tYXN0ZXIvaW5kZXguanNcclxuICAgIHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudCAmJlxyXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcclxuICAgIHZhciBjYW5Vc2VIaXN0b3J5ID0gIWNhblVzZURPTVxyXG4gICAgICAgID8gZmFsc2VcclxuICAgICAgICA6IHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2ZpbGU6JztcclxuICAgIHZhciBjYW5Vc2VQYXNzaXZlT3B0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3VwcG9ydCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghY2FuVXNlRE9NKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBwb3J0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby1lbXB0eSAqL1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB3aW4gPSB3aW5kb3c7XHJcbiAgICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XHJcbiAgICAgICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnQ7XHJcbiAgICB9KSgpO1xuXG4gICAgdmFyIGlzU3RyaW5nID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3N0cmluZyc7IH07XHJcbiAgICB2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7IH07XHJcbiAgICB2YXIgaXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKTsgfTtcclxuICAgIHZhciBpc051bWVyaWMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiAhaXNBcnJheShvYmopICYmIG9iaiAtIHBhcnNlRmxvYXQob2JqKSArIDEgPj0gMDsgfTtcclxuICAgIHZhciBoYXNQcm9wID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7IHJldHVybiBvYmogJiYgb2JqLmhhc093blByb3BlcnR5KGtleSk7IH07XG5cbiAgICB2YXIgcmFmID0gY2FuVXNlRE9NXHJcbiAgICAgICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KVxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIHZhciBjYWYgPSBjYW5Vc2VET01cclxuICAgICAgICA/IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdylcclxuICAgICAgICA6IG51bGw7XG5cbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpjdXJseSAqL1xyXG4gICAgLyogdHNsaW50OmRpc2FibGU6bm8tY29uZGl0aW9uYWwtYXNzaWdubWVudCAqL1xyXG4gICAgdmFyIGNvcyA9IE1hdGguY29zLCBzaW4gPSBNYXRoLnNpbiwgcG93ID0gTWF0aC5wb3csIHNxcnQgPSBNYXRoLnNxcnQsIFBJID0gTWF0aC5QSTtcclxuICAgIHZhciBlYXNpbmdzID0ge1xyXG4gICAgICAgIGxpbmVhcjogZnVuY3Rpb24gKHApIHsgcmV0dXJuIHA7IH0sXHJcbiAgICAgICAgZWFzZUluUXVhZDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodCAvPSBkIC8gMikgPCAxID8gKGMgLyAyKSAqIHQgKiB0ICsgYiA6ICgtYyAvIDIpICogKC0tdCAqICh0IC0gMikgLSAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjsgfSxcclxuICAgICAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgLz0gZCAvIDIpIDwgMSA/IChjIC8gMikgKiB0ICogdCAqIHQgKyBiIDogKGMgLyAyKSAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0IC89IGQgLyAyKSA8IDEgPyAoYyAvIDIpICogdCAqIHQgKiB0ICogdCArIGIgOiAoLWMgLyAyKSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJblF1aW50OiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7IH0sXHJcbiAgICAgICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgLz0gZCAvIDIpIDwgMVxyXG4gICAgICAgICAgICAgICAgPyAoYyAvIDIpICogdCAqIHQgKiB0ICogdCAqIHQgKyBiXHJcbiAgICAgICAgICAgICAgICA6IChjIC8gMikgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluU2luZTogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIC1jICogY29zKCh0IC8gZCkgKiAoUEkgLyAyKSkgKyBjICsgYjsgfSxcclxuICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMgKiBzaW4oKHQgLyBkKSAqIChQSSAvIDIpKSArIGI7IH0sXHJcbiAgICAgICAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuICgtYyAvIDIpICogKGNvcygoUEkgKiB0KSAvIGQpIC0gMSkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAodCA9PT0gMCA/IGIgOiBjICogcG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYik7IH0sXHJcbiAgICAgICAgZWFzZU91dEV4cG86IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAodCA9PT0gZCA/IGIgKyBjIDogYyAqICgtcG93KDIsICgtMTAgKiB0KSAvIGQpICsgMSkgKyBiKTsgfSxcclxuICAgICAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICBpZiAodCA9PT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBiO1xyXG4gICAgICAgICAgICBpZiAodCA9PT0gZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBiICsgYztcclxuICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGMgLyAyKSAqIHBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcclxuICAgICAgICAgICAgcmV0dXJuIChjIC8gMikgKiAoLXBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluQ2lyYzogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIC1jICogKHNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7IH0sXHJcbiAgICAgICAgZWFzZU91dENpcmM6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodCAvPSBkIC8gMikgPCAxXHJcbiAgICAgICAgICAgICAgICA/ICgtYyAvIDIpICogKHNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYlxyXG4gICAgICAgICAgICAgICAgOiAoYyAvIDIpICogKHNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgIH07XG5cbiAgICB2YXIgJCQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoKCFzZWxlY3RvciA/IFtdIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcclxuICAgIH07XHJcbiAgICB2YXIgJCA9IGZ1bmN0aW9uIChzZWxlY3RvcikgeyByZXR1cm4gJCQoc2VsZWN0b3IpLnNoaWZ0KCkgfHwgbnVsbDsgfTtcclxuICAgIHZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogaW5zdGFuY2VvZiBFbGVtZW50OyB9O1xyXG4gICAgdmFyIGlzV2luZG93ID0gZnVuY3Rpb24gKCRlbCkgeyByZXR1cm4gJGVsID09PSB3aW5kb3c7IH07XHJcbiAgICB2YXIgaXNSb290Q29udGFpbmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIHJldHVybiAkZWwgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCAkZWwgPT09IGRvY3VtZW50LmJvZHk7XHJcbiAgICB9O1xyXG4gICAgdmFyIG1hdGNoZXMgPSBmdW5jdGlvbiAoJGVsLCBzZWxlY3Rvcikge1xyXG4gICAgICAgIGlmIChpc0VsZW1lbnQoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkZWwgPT09IHNlbGVjdG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0cyA9ICQkKHNlbGVjdG9yKTtcclxuICAgICAgICB2YXIgaSA9IHJlc3VsdHMubGVuZ3RoO1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxyXG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiByZXN1bHRzW2ldICE9PSAkZWwpIHsgfVxyXG4gICAgICAgIHJldHVybiBpID4gLTE7XHJcbiAgICB9O1xuXG4gICAgdmFyIGdldEhlaWdodCA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoJGVsLnNjcm9sbEhlaWdodCwgJGVsLmNsaWVudEhlaWdodCwgJGVsLm9mZnNldEhlaWdodCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFdpZHRoID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgkZWwuc2Nyb2xsV2lkdGgsICRlbC5jbGllbnRXaWR0aCwgJGVsLm9mZnNldFdpZHRoKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0U2l6ZSA9IGZ1bmN0aW9uICgkZWwpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgd2lkdGg6IGdldFdpZHRoKCRlbCksXHJcbiAgICAgICAgaGVpZ2h0OiBnZXRIZWlnaHQoJGVsKSxcclxuICAgIH0pOyB9O1xyXG4gICAgdmFyIGdldFZpZXdwb3J0QW5kRWxlbWVudFNpemVzID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIHZhciBpc1Jvb3QgPSBpc1dpbmRvdygkZWwpIHx8IGlzUm9vdENvbnRhaW5lcigkZWwpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZpZXdwb3J0OiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogaXNSb290XHJcbiAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogJGVsLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBpc1Jvb3QgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiAkZWwuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaXplOiBpc1Jvb3RcclxuICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1heChnZXRXaWR0aChkb2N1bWVudC5ib2R5KSwgZ2V0V2lkdGgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChnZXRIZWlnaHQoZG9jdW1lbnQuYm9keSksIGdldEhlaWdodChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpKSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDogZ2V0U2l6ZSgkZWwpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xuXG4gICAgdmFyIGRpcmVjdGlvbk1ldGhvZE1hcCA9IHtcclxuICAgICAgICB5OiAnc2Nyb2xsVG9wJyxcclxuICAgICAgICB4OiAnc2Nyb2xsTGVmdCcsXHJcbiAgICB9O1xyXG4gICAgdmFyIGRpcmVjdGlvblByb3BNYXAgPSB7XHJcbiAgICAgICAgeTogJ3BhZ2VZT2Zmc2V0JyxcclxuICAgICAgICB4OiAncGFnZVhPZmZzZXQnLFxyXG4gICAgfTtcclxuICAgIHZhciBnZXRTY3JvbGwgPSBmdW5jdGlvbiAoJGVsLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gaXNXaW5kb3coJGVsKSA/ICRlbFtkaXJlY3Rpb25Qcm9wTWFwW2RpcmVjdGlvbl1dIDogJGVsW2RpcmVjdGlvbk1ldGhvZE1hcFtkaXJlY3Rpb25dXTtcclxuICAgIH07XHJcbiAgICB2YXIgc2V0U2Nyb2xsID0gZnVuY3Rpb24gKCRlbCwgb2Zmc2V0LCBkaXJlY3Rpb24pIHtcclxuICAgICAgICBpZiAoaXNXaW5kb3coJGVsKSkge1xyXG4gICAgICAgICAgICB2YXIgdG9wXzEgPSBkaXJlY3Rpb24gPT09ICd5JztcclxuICAgICAgICAgICAgJGVsLnNjcm9sbFRvKCF0b3BfMSA/IG9mZnNldCA6ICRlbC5wYWdlWE9mZnNldCwgdG9wXzEgPyBvZmZzZXQgOiAkZWwucGFnZVlPZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJGVsW2RpcmVjdGlvbk1ldGhvZE1hcFtkaXJlY3Rpb25dXSA9IG9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uICgkZWwsICRjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSAkZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKHJlY3Qud2lkdGggfHwgcmVjdC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbF8xID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcclxuICAgICAgICAgICAgdmFyICRjdHggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmIChpc1dpbmRvdygkY29udGV4dCkgfHwgaXNSb290Q29udGFpbmVyKCRjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgJGN0eCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbF8xLnRvcCA9IHdpbmRvd1tkaXJlY3Rpb25Qcm9wTWFwLnldO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsXzEubGVmdCA9IHdpbmRvd1tkaXJlY3Rpb25Qcm9wTWFwLnhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGN0eCA9ICRjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGNSZWN0ID0gJGN0eC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbF8xLnRvcCA9IGNSZWN0LnRvcCAqIC0xICsgJGN0eFtkaXJlY3Rpb25NZXRob2RNYXAueV07XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxfMS5sZWZ0ID0gY1JlY3QubGVmdCAqIC0xICsgJGN0eFtkaXJlY3Rpb25NZXRob2RNYXAueF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyBzY3JvbGxfMS50b3AgLSAkY3R4LmNsaWVudFRvcCxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHNjcm9sbF8xLmxlZnQgLSAkY3R4LmNsaWVudExlZnQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfTtcblxuICAgIHZhciB3aGVlbEV2ZW50TmFtZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFjYW5Vc2VET00pIHtcclxuICAgICAgICAgICAgcmV0dXJuICd3aGVlbCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnb253aGVlbCcgaW4gZG9jdW1lbnQgPyAnd2hlZWwnIDogJ21vdXNld2hlZWwnO1xyXG4gICAgfSkoKTtcclxuICAgIHZhciBldmVudE5hbWUgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gKG5hbWUgPT09ICd3aGVlbCcgPyB3aGVlbEV2ZW50TmFtZSA6IG5hbWUpOyB9O1xyXG4gICAgdmFyIGFwcGx5ID0gZnVuY3Rpb24gKCRlbCwgbWV0aG9kLCBldmVudCwgbGlzdGVuZXIsIHBhc3NpdmUpIHtcclxuICAgICAgICBldmVudC5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgJGVsW21ldGhvZF0oZXZlbnROYW1lKG5hbWUpLCBsaXN0ZW5lciwgY2FuVXNlUGFzc2l2ZU9wdGlvbiA/IHsgcGFzc2l2ZTogcGFzc2l2ZSB9IDogZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBhZGRFdmVudCA9IGZ1bmN0aW9uICgkZWwsIGV2ZW50LCBsaXN0ZW5lciwgcGFzc2l2ZSkgeyByZXR1cm4gYXBwbHkoJGVsLCAnYWRkRXZlbnRMaXN0ZW5lcicsIGV2ZW50LCBsaXN0ZW5lciwgcGFzc2l2ZSk7IH07XHJcbiAgICB2YXIgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiAoJGVsLCBldmVudCwgbGlzdGVuZXIsIHBhc3NpdmUpIHsgcmV0dXJuIGFwcGx5KCRlbCwgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCBldmVudCwgbGlzdGVuZXIsIHBhc3NpdmUpOyB9O1xuXG4gICAgdmFyIHJlUmVsYXRpdmVUb2tlbiA9IC9eKFxcK3wtKT0oXFxkKyg/OlxcLlxcZCspPykkLztcclxuICAgIHZhciBwYXJzZUNvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZW5hYmxlVmVydGljYWwpIHtcclxuICAgICAgICB2YXIgcmVzID0geyB0b3A6IDAsIGxlZnQ6IDAsIHJlbGF0aXZlOiBmYWxzZSB9O1xyXG4gICAgICAgIC8vIE9iamVjdCAoeyB0b3A6IHtufSwgbGVmdDoge259IH0pXHJcbiAgICAgICAgaWYgKGhhc1Byb3AoY29vcmRpbmF0ZSwgJ3RvcCcpIHx8IGhhc1Byb3AoY29vcmRpbmF0ZSwgJ2xlZnQnKSkge1xyXG4gICAgICAgICAgICByZXMgPSBfX2Fzc2lnbih7fSwgcmVzLCBjb29yZGluYXRlKTtcclxuICAgICAgICAgICAgLy8gQXJyYXkgKFt7bn0sIFt7bn1dKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0FycmF5KGNvb3JkaW5hdGUpKSB7XHJcbiAgICAgICAgICAgIGlmIChjb29yZGluYXRlLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHJlcy50b3AgPSBjb29yZGluYXRlWzBdO1xyXG4gICAgICAgICAgICAgICAgcmVzLmxlZnQgPSBjb29yZGluYXRlWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvb3JkaW5hdGUubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXMudG9wID0gZW5hYmxlVmVydGljYWwgPyBjb29yZGluYXRlWzBdIDogMDtcclxuICAgICAgICAgICAgICAgIHJlcy5sZWZ0ID0gIWVuYWJsZVZlcnRpY2FsID8gY29vcmRpbmF0ZVswXSA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOdW1iZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNOdW1lcmljKGNvb3JkaW5hdGUpKSB7XHJcbiAgICAgICAgICAgIGlmIChlbmFibGVWZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnRvcCA9IGNvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMubGVmdCA9IGNvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU3RyaW5nICgnKz17bn0nLCAnLT17bn0nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhjb29yZGluYXRlKSkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IGNvb3JkaW5hdGUudHJpbSgpLm1hdGNoKHJlUmVsYXRpdmVUb2tlbik7XHJcbiAgICAgICAgICAgIGlmICghbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG9wID0gbVsxXTtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IHBhcnNlSW50KG1bMl0sIDEwKTtcclxuICAgICAgICAgICAgaWYgKG9wID09PSAnKycpIHtcclxuICAgICAgICAgICAgICAgIHJlcy50b3AgPSBlbmFibGVWZXJ0aWNhbCA/IHZhbCA6IDA7XHJcbiAgICAgICAgICAgICAgICByZXMubGVmdCA9ICFlbmFibGVWZXJ0aWNhbCA/IHZhbCA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMudG9wID0gZW5hYmxlVmVydGljYWwgPyAtdmFsIDogMDtcclxuICAgICAgICAgICAgICAgIHJlcy5sZWZ0ID0gIWVuYWJsZVZlcnRpY2FsID8gLXZhbCA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnJlbGF0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgICB0cmlnZ2VyOiAnW2RhdGEtc2Nyb2xsXScsXHJcbiAgICAgICAgaGVhZGVyOiAnW2RhdGEtc2Nyb2xsLWhlYWRlcl0nLFxyXG4gICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXHJcbiAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgIHZlcnRpY2FsOiB0cnVlLFxyXG4gICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxyXG4gICAgICAgIGNhbmNlbGxhYmxlOiB0cnVlLFxyXG4gICAgICAgIHVwZGF0ZVVSTDogZmFsc2UsXHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IHRydWUsXHJcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiB0cnVlLFxyXG4gICAgICAgIC8vIENhbGxiYWNrc1xyXG4gICAgICAgIGJlZm9yZTogbnVsbCxcclxuICAgICAgICBhZnRlcjogbnVsbCxcclxuICAgICAgICBjYW5jZWw6IG51bGwsXHJcbiAgICAgICAgY29tcGxldGU6IG51bGwsXHJcbiAgICAgICAgc3RlcDogbnVsbCxcclxuICAgIH07XG5cbiAgICB2YXIgQ09OVEFJTkVSX0NMSUNLX0VWRU5UID0gJ2NsaWNrJztcclxuICAgIHZhciBDT05UQUlORVJfU1RPUF9FVkVOVCA9ICd3aGVlbCB0b3VjaHN0YXJ0IHRvdWNobW92ZSc7XHJcbiAgICB2YXIgU3dlZXRTY3JvbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29uc3RydWN0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBTd2VldFNjcm9sbChvcHRpb25zLCBjb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy4kZWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmN0eCA9IHtcclxuICAgICAgICAgICAgICAgICR0cmlnZ2VyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3B0czogbnVsbCxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBvczogbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBpZDogMCxcclxuICAgICAgICAgICAgICAgIGNhbmNlbDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoYXNoOiBudWxsLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogSGFuZGxlIGVhY2ggZnJhbWUgb2YgdGhlIGFuaW1hdGlvbi5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMubG9vcCA9IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcywgJGVsID0gX2EuJGVsLCBjdHggPSBfYS5jdHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN0eC5zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdGFydCA9IHRpbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN0eC5wcm9ncmVzcyB8fCAhJGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gY3R4Lm9wdHM7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY3R4LnBvcztcclxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGN0eC5zdGFydDtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFydE9mZnNldCA9IGN0eC5zdGFydFBvcztcclxuICAgICAgICAgICAgICAgIHZhciBlYXNpbmcgPSBjdHguZWFzaW5nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb25NYXAgPSB7IHRvcDogJ3knLCBsZWZ0OiAneCcgfTtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lRWxhcHNlZCA9IHRpbWUgLSBzdGFydDtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gTWF0aC5taW4oMSwgTWF0aC5tYXgodGltZUVsYXBzZWQgLyBkdXJhdGlvbiwgMCkpO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob2Zmc2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvZmZzZXRba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbCA9IHN0YXJ0T2Zmc2V0W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gdmFsdWUgLSBpbml0aWFsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gZWFzaW5nKHQsIGR1cmF0aW9uICogdCwgMCwgMSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTY3JvbGwoJGVsLCBNYXRoLnJvdW5kKGluaXRpYWwgKyBkZWx0YSAqIHZhbCksIGRpcmVjdGlvbk1hcFtrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lRWxhcHNlZCA8PSBkdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvb2sob3B0aW9ucywgJ3N0ZXAnLCB0KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguaWQgPSBTd2VldFNjcm9sbC5yYWYoX3RoaXMubG9vcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdG9wKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogSGFuZGxpbmcgb2YgY29udGFpbmVyIGNsaWNrIGV2ZW50LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IF90aGlzLm9wdHM7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGVsID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgJGVsICYmICRlbCAhPT0gZG9jdW1lbnQ7ICRlbCA9ICRlbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzKCRlbCwgb3B0cy50cmlnZ2VyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFPcHRpb25zID0gSlNPTi5wYXJzZSgkZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1vcHRpb25zJykgfHwgJ3t9Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0byA9IGRhdGEgfHwgJGVsLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gX19hc3NpZ24oe30sIG9wdHMsIGRhdGFPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmVudERlZmF1bHQgPSBvcHRpb25zLnByZXZlbnREZWZhdWx0LCBzdG9wUHJvcGFnYXRpb24gPSBvcHRpb25zLnN0b3BQcm9wYWdhdGlvbiwgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsLCBob3Jpem9udGFsID0gb3B0aW9ucy5ob3Jpem9udGFsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFzc2VzIHRoZSB0cmlnZ2VyIGVsZW1lbnQgdG8gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguJHRyaWdnZXIgPSAkZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvcml6b250YWwgJiYgdmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG8odG8sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50b1RvcCh0bywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhvcml6b250YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9MZWZ0KHRvLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBIYW5kbGluZyBvZiBjb250YWluZXIgc3RvcCBldmVudHMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN0b3AgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IF90aGlzLmN0eDtcclxuICAgICAgICAgICAgICAgIHZhciBvcHRzID0gY3R4Lm9wdHM7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cyAmJiBvcHRzLmNhbmNlbGxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNhbmNlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLm9wdHMgPSBfX2Fzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIChvcHRpb25zIHx8IHt9KSk7XHJcbiAgICAgICAgICAgIHZhciAkY29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGNhblVzZURPTSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lciA9ICQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIgPSB3aW5kb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4kZWwgPSAkY29udGFpbmVyO1xyXG4gICAgICAgICAgICBpZiAoJGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kKHRydWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTd2VldFNjcm9sbCBpbnN0YW5jZSBmYWN0b3J5LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTd2VldFNjcm9sbChvcHRpb25zLCBjb250YWluZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2Nyb2xsIGFuaW1hdGlvbiB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChkaXN0YW5jZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoIWNhblVzZURPTSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsICRlbCA9IF9hLiRlbCwgY3R4ID0gX2EuY3R4LCBjdXJyZW50T3B0aW9ucyA9IF9hLm9wdHM7XHJcbiAgICAgICAgICAgIHZhciAkdHJpZ2dlciA9IGN0eC4kdHJpZ2dlcjtcclxuICAgICAgICAgICAgdmFyIG9wdHMgPSBfX2Fzc2lnbih7fSwgY3VycmVudE9wdGlvbnMsIChvcHRpb25zIHx8IHt9KSk7XHJcbiAgICAgICAgICAgIHZhciBvcHRPZmZzZXQgPSBvcHRzLm9mZnNldCwgdmVydGljYWwgPSBvcHRzLnZlcnRpY2FsLCBob3Jpem9udGFsID0gb3B0cy5ob3Jpem9udGFsO1xyXG4gICAgICAgICAgICB2YXIgJGhlYWRlciA9IGlzRWxlbWVudChvcHRzLmhlYWRlcikgPyBvcHRzLmhlYWRlciA6ICQob3B0cy5oZWFkZXIpO1xyXG4gICAgICAgICAgICB2YXIgcmVnID0gL14jLztcclxuICAgICAgICAgICAgdmFyIGhhc2ggPSBpc1N0cmluZyhkaXN0YW5jZSkgJiYgcmVnLnRlc3QoZGlzdGFuY2UpID8gZGlzdGFuY2UgOiBudWxsO1xyXG4gICAgICAgICAgICBjdHgub3B0cyA9IG9wdHM7IC8vIFRlbXBvcmFyeSBvcHRpb25zXHJcbiAgICAgICAgICAgIGN0eC5jYW5jZWwgPSBmYWxzZTsgLy8gRGlzYWJsZSB0aGUgY2FsbCBmbGFnIG9mIGBjYW5jZWxgXHJcbiAgICAgICAgICAgIGN0eC5oYXNoID0gaGFzaDtcclxuICAgICAgICAgICAgLy8gU3RvcCBjdXJyZW50IGFuaW1hdGlvblxyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgLy8gRG9lcyBub3QgbW92ZSBpZiB0aGUgY29udGFpbmVyIGlzIG5vdCBmb3VuZFxyXG4gICAgICAgICAgICBpZiAoISRlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEdldCBzY3JvbGwgb2Zmc2V0XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUNvb3JkaW5hdGUob3B0T2Zmc2V0LCB2ZXJ0aWNhbCk7XHJcbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlID0gcGFyc2VDb29yZGluYXRlKGRpc3RhbmNlLCB2ZXJ0aWNhbCk7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGwgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xyXG4gICAgICAgICAgICBpZiAoY29vcmRpbmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGUucmVsYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IGdldFNjcm9sbCgkZWwsIHZlcnRpY2FsID8gJ3knIDogJ3gnKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwudG9wID0gdmVydGljYWwgPyBjdXJyZW50ICsgY29vcmRpbmF0ZS50b3AgOiBjb29yZGluYXRlLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwubGVmdCA9ICF2ZXJ0aWNhbCA/IGN1cnJlbnQgKyBjb29yZGluYXRlLmxlZnQgOiBjb29yZGluYXRlLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSBjb29yZGluYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKGRpc3RhbmNlKSAmJiBkaXN0YW5jZSAhPT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQoZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gZ2V0T2Zmc2V0KCR0YXJnZXQsICRlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLnRvcCArPSBvZmZzZXQudG9wO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLmxlZnQgKz0gb2Zmc2V0LmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRoZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC50b3AgPSBNYXRoLm1heCgwLCBzY3JvbGwudG9wIC0gZ2V0U2l6ZSgkaGVhZGVyKS5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzY3JvbGwgb2Zmc2V0XHJcbiAgICAgICAgICAgIHZhciBfYiA9IGdldFZpZXdwb3J0QW5kRWxlbWVudFNpemVzKCRlbCksIHZpZXdwb3J0ID0gX2Iudmlld3BvcnQsIHNpemUgPSBfYi5zaXplO1xyXG4gICAgICAgICAgICBzY3JvbGwudG9wID0gdmVydGljYWxcclxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2l6ZS5oZWlnaHQgLSB2aWV3cG9ydC5oZWlnaHQsIHNjcm9sbC50b3ApKVxyXG4gICAgICAgICAgICAgICAgOiBnZXRTY3JvbGwoJGVsLCAneScpO1xyXG4gICAgICAgICAgICBzY3JvbGwubGVmdCA9IGhvcml6b250YWxcclxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2l6ZS53aWR0aCAtIHZpZXdwb3J0LndpZHRoLCBzY3JvbGwubGVmdCkpXHJcbiAgICAgICAgICAgICAgICA6IGdldFNjcm9sbCgkZWwsICd4Jyk7XHJcbiAgICAgICAgICAgIC8vIENhbGwgYGJlZm9yZWBcclxuICAgICAgICAgICAgLy8gU3RvcCBzY3JvbGxpbmcgd2hlbiBpdCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvb2sob3B0cywgJ2JlZm9yZScsIHNjcm9sbCwgJHRyaWdnZXIpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY3R4Lm9wdHMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNldCBvZmZzZXRcclxuICAgICAgICAgICAgY3R4LnBvcyA9IHNjcm9sbDtcclxuICAgICAgICAgICAgLy8gUnVuIGFuaW1hdGlvbiEhXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQob3B0cyk7XHJcbiAgICAgICAgICAgIC8vIEJpbmQgc3RvcCBldmVudHNcclxuICAgICAgICAgICAgdGhpcy5iaW5kKGZhbHNlLCB0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjcm9sbCBhbmltYXRpb24gdG8gc3BlY2lmaWVkIGxlZnQgcG9zaXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLnRvVG9wID0gZnVuY3Rpb24gKGRpc3RhbmNlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG8oZGlzdGFuY2UsIF9fYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSksIHsgdmVydGljYWw6IHRydWUsIGhvcml6b250YWw6IGZhbHNlIH0pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjcm9sbCBhbmltYXRpb24gdG8gc3BlY2lmaWVkIHRvcCBwb3NpdGlvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUudG9MZWZ0ID0gZnVuY3Rpb24gKGRpc3RhbmNlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG8oZGlzdGFuY2UsIF9fYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSksIHsgdmVydGljYWw6IGZhbHNlLCBob3Jpem9udGFsOiB0cnVlIH0pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjcm9sbCBhbmltYXRpb24gdG8gc3BlY2lmaWVkIGVsZW1lbnQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLnRvRWxlbWVudCA9IGZ1bmN0aW9uICgkZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgJGVsID0gdGhpcy4kZWw7XHJcbiAgICAgICAgICAgIGlmICghY2FuVXNlRE9NIHx8ICEkZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvKGdldE9mZnNldCgkZWxlbWVudCwgJGVsKSwgb3B0aW9ucyB8fCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTdG9wIHRoZSBjdXJyZW50IHNjcm9sbCBhbmltYXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoZ290b0VuZCkge1xyXG4gICAgICAgICAgICBpZiAoZ290b0VuZCA9PT0gdm9pZCAwKSB7IGdvdG9FbmQgPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCAkZWwgPSBfYS4kZWwsIGN0eCA9IF9hLmN0eDtcclxuICAgICAgICAgICAgdmFyIHBvcyA9IGN0eC5wb3M7XHJcbiAgICAgICAgICAgIGlmICghJGVsIHx8ICFjdHgucHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBTd2VldFNjcm9sbC5jYWYoY3R4LmlkKTtcclxuICAgICAgICAgICAgY3R4LnByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGN0eC5zdGFydCA9IDA7XHJcbiAgICAgICAgICAgIGN0eC5pZCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChnb3RvRW5kICYmIHBvcykge1xyXG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsKCRlbCwgcG9zLmxlZnQsICd4Jyk7XHJcbiAgICAgICAgICAgICAgICBzZXRTY3JvbGwoJGVsLCBwb3MudG9wLCAneScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBvcHRpb25zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcHRzID0gX19hc3NpZ24oe30sIHRoaXMub3B0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZCh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlc3Ryb3kgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGJhY2sgbWV0aG9kcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby1lbXB0eSAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5vbkJlZm9yZSA9IGZ1bmN0aW9uIChfLCBfXykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5vblN0ZXAgPSBmdW5jdGlvbiAoXykgeyB9O1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5vbkFmdGVyID0gZnVuY3Rpb24gKF8sIF9fKSB7IH07XHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLm9uQ2FuY2VsID0gZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKF8pIHsgfTtcclxuICAgICAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RhcnQgc2Nyb2xsaW5nIGFuaW1hdGlvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgICAgIGN0eC5vcHRzID0gb3B0cztcclxuICAgICAgICAgICAgY3R4LnByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3R4LmVhc2luZyA9IGlzRnVuY3Rpb24ob3B0cy5lYXNpbmcpXHJcbiAgICAgICAgICAgICAgICA/IG9wdHMuZWFzaW5nXHJcbiAgICAgICAgICAgICAgICA6IGVhc2luZ3Nbb3B0cy5lYXNpbmddO1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhcnQgb2Zmc2V0LlxyXG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJGVsO1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGdldFNjcm9sbCgkY29udGFpbmVyLCAneScpLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogZ2V0U2Nyb2xsKCRjb250YWluZXIsICd4JyksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGN0eC5zdGFydFBvcyA9IHN0YXJ0O1xyXG4gICAgICAgICAgICAvLyBMb29wXHJcbiAgICAgICAgICAgIGN0eC5pZCA9IFN3ZWV0U2Nyb2xsLnJhZih0aGlzLmxvb3ApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFuZGxlIHRoZSBjb21wbGV0aW9uIG9mIHNjcm9sbGluZyBhbmltYXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCAkZWwgPSBfYS4kZWwsIGN0eCA9IF9hLmN0eDtcclxuICAgICAgICAgICAgdmFyIGhhc2ggPSBjdHguaGFzaCwgY2FuY2VsID0gY3R4LmNhbmNlbCwgb3B0cyA9IGN0eC5vcHRzLCBwb3MgPSBjdHgucG9zLCAkdHJpZ2dlciA9IGN0eC4kdHJpZ2dlcjtcclxuICAgICAgICAgICAgaWYgKCEkZWwgfHwgIW9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzaCAhPSBudWxsICYmIGhhc2ggIT09IHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlVVJMID0gb3B0cy51cGRhdGVVUkw7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuVXNlRE9NICYmIGNhblVzZUhpc3RvcnkgJiYgdXBkYXRlVVJMICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5W3VwZGF0ZVVSTCA9PT0gJ3JlcGxhY2UnID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10obnVsbCwgJycsIGhhc2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudW5iaW5kKGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgICAgY3R4Lm9wdHMgPSBudWxsO1xyXG4gICAgICAgICAgICBjdHguJHRyaWdnZXIgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2sob3B0cywgJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob29rKG9wdHMsICdhZnRlcicsIHBvcywgJHRyaWdnZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaG9vayhvcHRzLCAnY29tcGxldGUnLCBjYW5jZWwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGJhY2sgZnVuY3Rpb24gYW5kIG1ldGhvZCBjYWxsLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5ob29rID0gZnVuY3Rpb24gKG9wdGlvbnMsIHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zW3R5cGVdO1xyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tSZXN1bHQ7XHJcbiAgICAgICAgICAgIHZhciBtZXRob2RSZXN1bHQ7XHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tSZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzLmNvbmNhdChbdGhpc10pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBtZXRob2RcclxuICAgICAgICAgICAgbWV0aG9kUmVzdWx0ID0gKF9hID0gdGhpcylbXCJvblwiICsgKHR5cGVbMF0udG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSkpXS5hcHBseShfYSwgYXJncyk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFja1Jlc3VsdCAhPT0gdW5kZWZpbmVkID8gY2FsbGJhY2tSZXN1bHQgOiBtZXRob2RSZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCaW5kIGV2ZW50cyBvZiBjb250YWluZXIgZWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChjbGljaywgc3RvcCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCAkZWwgPSBfYS4kZWwsIG9wdHMgPSBfYS5jdHgub3B0cztcclxuICAgICAgICAgICAgaWYgKCRlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkRXZlbnQoJGVsLCBDT05UQUlORVJfQ0xJQ0tfRVZFTlQsIHRoaXMuaGFuZGxlQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkRXZlbnQoJGVsLCBDT05UQUlORVJfU1RPUF9FVkVOVCwgdGhpcy5oYW5kbGVTdG9wLCBvcHRzID8gb3B0cy5jYW5jZWxsYWJsZSA6IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgZXZlbnRzIG9mIGNvbnRhaW5lciBlbGVtZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoY2xpY2ssIHN0b3ApIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgJGVsID0gX2EuJGVsLCBvcHRzID0gX2EuY3R4Lm9wdHM7XHJcbiAgICAgICAgICAgIGlmICgkZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KCRlbCwgQ09OVEFJTkVSX0NMSUNLX0VWRU5ULCB0aGlzLmhhbmRsZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KCRlbCwgQ09OVEFJTkVSX1NUT1BfRVZFTlQsIHRoaXMuaGFuZGxlU3RvcCwgb3B0cyA/IG9wdHMuY2FuY2VsbGFibGUgOiB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogWW91IGNhbiBzZXQgUG9seWZpbGwgKG9yIFBvbnlmaWxsKSBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucmFmID0gcmFmO1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLmNhZiA9IGNhZjtcclxuICAgICAgICByZXR1cm4gU3dlZXRTY3JvbGw7XHJcbiAgICB9KCkpO1xuXG4gICAgcmV0dXJuIFN3ZWV0U2Nyb2xsO1xuXG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zd2VldC1zY3JvbGwvc3dlZXQtc2Nyb2xsLmpzXG4vLyBtb2R1bGUgaWQgPSAyNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==