!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=120)}({120:function(t,e,n){n(121),t.exports=n(123)},121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(122),r=n.n(o);document.addEventListener("DOMContentLoaded",function(){new r.a({trigger:"a[href^='#']"})},!1)},122:function(t,e,n){var o;o=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},e=!("undefined"==typeof window||!window.document||!window.document.createElement),n=!!e&&(window.history&&"pushState"in window.history&&"file:"!==window.location.protocol),o=function(){var t=!1;if(!e)return t;try{var n=window,o=Object.defineProperty({},"passive",{get:function(){t=!0}});n.addEventListener("test",null,o),n.removeEventListener("test",null,o)}catch(t){}return t}(),r=function(t){return"string"==typeof t},i=function(t){return"function"==typeof t},u=function(t){return Array.isArray(t)},a=function(t,e){return t&&t.hasOwnProperty(e)},l=e?window.requestAnimationFrame.bind(window):null,s=e?window.cancelAnimationFrame.bind(window):null,c=Math.cos,f=Math.sin,p=Math.pow,h=Math.sqrt,d=Math.PI,v={linear:function(t){return t},easeInQuad:function(t,e,n,o,r){return o*(e/=r)*e+n},easeOutQuad:function(t,e,n,o,r){return-o*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,o,r){return o*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,o,r){return o*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,o,r){return o*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,o,r){return-o*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,o,r){return o*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,o,r){return o*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,o,r){return(e/=r/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,o,r){return-o*c(e/r*(d/2))+o+n},easeOutSine:function(t,e,n,o,r){return o*f(e/r*(d/2))+n},easeInOutSine:function(t,e,n,o,r){return-o/2*(c(d*e/r)-1)+n},easeInExpo:function(t,e,n,o,r){return 0===e?n:o*p(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,o,r){return e===r?n+o:o*(1-p(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,o,r){return 0===e?n:e===r?n+o:(e/=r/2)<1?o/2*p(2,10*(e-1))+n:o/2*(2-p(2,-10*--e))+n},easeInCirc:function(t,e,n,o,r){return-o*(h(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,o,r){return o*h(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,o,r){return(e/=r/2)<1?-o/2*(h(1-e*e)-1)+n:o/2*(h(1-(e-=2)*e)+1)+n}},g=function(t){return Array.prototype.slice.call(t?document.querySelectorAll(t):[])},w=function(t){return g(t).shift()||null},m=function(t){return t instanceof Element},y=function(t){return t===window},x=function(t){return t===document.documentElement||t===document.body},b=function(t,e){if(m(e))return t===e;for(var n=g(e),o=n.length;--o>=0&&n[o]!==t;);return o>-1},O=function(t){return Math.max(t.scrollHeight,t.clientHeight,t.offsetHeight)},M=function(t){return Math.max(t.scrollWidth,t.clientWidth,t.offsetWidth)},$=function(t){return{width:M(t),height:O(t)}},E={y:"scrollTop",x:"scrollLeft"},I={y:"pageYOffset",x:"pageXOffset"},C=function(t,e){return y(t)?t[I[e]]:t[E[e]]},k=function(t,e,n){if(y(t)){var o="y"===n;t.scrollTo(o?t.pageXOffset:e,o?e:t.pageYOffset)}else t[E[n]]=e},P=function(t,e){var n=t.getBoundingClientRect();if(n.width||n.height){var o={top:0,left:0},r=void 0;if(y(e)||x(e))r=document.documentElement,o.top=window[I.y],o.left=window[I.x];else{var i=(r=e).getBoundingClientRect();o.top=-1*i.top+r[E.y],o.left=-1*i.left+r[E.x]}return{top:n.top+o.top-r.clientTop,left:n.left+o.left-r.clientLeft}}return n},L=e?"onwheel"in document?"wheel":"mousewheel":"wheel",S=function(t,e,n,r,i){n.split(" ").forEach(function(n){t[e](function(t){return"wheel"===t?L:t}(n),r,!!o&&{passive:i})})},A=function(t,e,n,o){return S(t,"addEventListener",e,n,o)},Q=function(t,e,n,o){return S(t,"removeEventListener",e,n,o)},j=/^(\+|-)=(\d+(?:\.\d+)?)$/,z=function(e,n){var o,i={top:0,left:0,relative:!1};if(a(e,"top")||a(e,"left"))i=t({},i,e);else if(u(e))if(e.length>1)i.top=e[0],i.left=e[1];else{if(1!==e.length)return null;i.top=n?e[0]:0,i.left=n?0:e[0]}else if(!u(o=e)&&o-parseFloat(o)+1>=0)n?i.top=e:i.left=e;else{if(!r(e))return null;var l=e.trim().match(j);if(!l)return null;var s=l[1],c=parseInt(l[2],10);"+"===s?(i.top=n?c:0,i.left=n?0:c):(i.top=n?-c:0,i.left=n?0:-c),i.relative=!0}return i},W={trigger:"[data-scroll]",header:"[data-scroll-header]",duration:1e3,easing:"easeOutQuint",offset:0,vertical:!0,horizontal:!1,cancellable:!0,updateURL:!1,preventDefault:!0,stopPropagation:!0,before:null,after:null,cancel:null,complete:null,step:null};return function(){function o(n,r){var i=this;this.$el=null,this.ctx={$trigger:null,opts:null,progress:!1,pos:null,startPos:null,easing:null,start:0,id:0,cancel:!1,hash:null},this.loop=function(t){var e=i,n=e.$el,r=e.ctx;if(r.start||(r.start=t),r.progress&&n){var u=r.opts,a=r.pos,l=r.start,s=r.startPos,c=r.easing,f=u.duration,p={top:"y",left:"x"},h=t-l,d=Math.min(1,Math.max(h/f,0));Object.keys(a).forEach(function(t){var e=a[t],o=s[t],r=e-o;if(0!==r){var i=c(d,f*d,0,1,f);k(n,Math.round(o+r*i),p[t])}}),h<=f?(i.hook(u,"step",d),r.id=o.raf(i.loop)):i.stop(!0)}else i.stop()},this.handleClick=function(e){for(var n=i.opts,o=e.target;o&&o!==document;o=o.parentNode)if(b(o,n.trigger)){var r=JSON.parse(o.getAttribute("data-scroll-options")||"{}"),u=o.getAttribute("data-scroll")||o.getAttribute("href"),a=t({},n,r),l=a.preventDefault,s=a.stopPropagation,c=a.vertical,f=a.horizontal;l&&e.preventDefault(),s&&e.stopPropagation(),i.ctx.$trigger=o,f&&c?i.to(u,a):c?i.toTop(u,a):f&&i.toLeft(u,a);break}},this.handleStop=function(t){var e=i.ctx,n=e.opts;n&&n.cancellable?(e.cancel=!0,i.stop()):t.preventDefault()},this.opts=t({},W,n||{});var u=null;e&&(u="string"==typeof r?w(r):null!=r?r:window),this.$el=u,u&&this.bind(!0,!1)}return o.create=function(t,e){return new o(t,e)},o.prototype.to=function(n,o){if(e){var i=this.$el,u=this.ctx,a=this.opts,l=u.$trigger,s=t({},a,o||{}),c=s.offset,f=s.vertical,p=s.horizontal,h=m(s.header)?s.header:w(s.header),d=r(n)&&/^#/.test(n)?n:null;if(u.opts=s,u.cancel=!1,u.hash=d,this.stop(),i){var v=z(c,f),g=z(n,f),b={top:0,left:0};if(g)if(g.relative){var E=C(i,f?"y":"x");b.top=f?E+g.top:g.top,b.left=f?g.left:E+g.left}else b=g;else if(r(n)&&"#"!==n){var I=w(n);if(!I)return;b=P(I,i)}v&&(b.top+=v.top,b.left+=v.left),h&&(b.top=Math.max(0,b.top-$(h).height));var k=function(t){var e=y(t)||x(t);return{viewport:{width:e?Math.min(window.innerWidth,document.documentElement.clientWidth):t.clientWidth,height:e?window.innerHeight:t.clientHeight},size:e?{width:Math.max(M(document.body),M(document.documentElement)),height:Math.max(O(document.body),O(document.documentElement))}:$(t)}}(i),L=k.viewport,S=k.size;b.top=f?Math.max(0,Math.min(S.height-L.height,b.top)):C(i,"y"),b.left=p?Math.max(0,Math.min(S.width-L.width,b.left)):C(i,"x"),!1!==this.hook(s,"before",b,l)?(u.pos=b,this.start(s),this.bind(!1,!0)):u.opts=null}}},o.prototype.toTop=function(e,n){this.to(e,t({},n||{},{vertical:!0,horizontal:!1}))},o.prototype.toLeft=function(e,n){this.to(e,t({},n||{},{vertical:!1,horizontal:!0}))},o.prototype.toElement=function(t,n){var o=this.$el;e&&o&&this.to(P(t,o),n||{})},o.prototype.stop=function(t){void 0===t&&(t=!1);var e=this.$el,n=this.ctx,r=n.pos;e&&n.progress&&(o.caf(n.id),n.progress=!1,n.start=0,n.id=0,t&&r&&(k(e,r.left,"x"),k(e,r.top,"y")),this.complete())},o.prototype.update=function(e){if(this.$el){var n=t({},this.opts,e);this.stop(),this.unbind(!0,!0),this.opts=n,this.bind(!0,!1)}},o.prototype.destroy=function(){this.$el&&(this.stop(),this.unbind(!0,!0),this.$el=null)},o.prototype.onBefore=function(t,e){return!0},o.prototype.onStep=function(t){},o.prototype.onAfter=function(t,e){},o.prototype.onCancel=function(){},o.prototype.onComplete=function(t){},o.prototype.start=function(t){var e=this.ctx;e.opts=t,e.progress=!0,e.easing=i(t.easing)?t.easing:v[t.easing];var n=this.$el,r={top:C(n,"y"),left:C(n,"x")};e.startPos=r,e.id=o.raf(this.loop)},o.prototype.complete=function(){var t=this.$el,o=this.ctx,r=o.hash,i=o.cancel,u=o.opts,a=o.pos,l=o.$trigger;if(t&&u){if(null!=r&&r!==window.location.hash){var s=u.updateURL;e&&n&&!1!==s&&window.history["replace"===s?"replaceState":"pushState"](null,"",r)}this.unbind(!1,!0),o.opts=null,o.$trigger=null,i?this.hook(u,"cancel"):this.hook(u,"after",a,l),this.hook(u,"complete",i)}},o.prototype.hook=function(t,e){for(var n,o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var u,a,l=t[e];return i(l)&&(u=l.apply(this,o.concat([this]))),a=(n=this)["on"+(e[0].toUpperCase()+e.slice(1))].apply(n,o),void 0!==u?u:a},o.prototype.bind=function(t,e){var n=this.$el,o=this.ctx.opts;n&&(t&&A(n,"click",this.handleClick,!1),e&&A(n,"wheel touchstart touchmove",this.handleStop,!o||o.cancellable))},o.prototype.unbind=function(t,e){var n=this.$el,o=this.ctx.opts;n&&(t&&Q(n,"click",this.handleClick,!1),e&&Q(n,"wheel touchstart touchmove",this.handleStop,!o||o.cancellable))},o.raf=l,o.caf=s,o}()},t.exports=o()},123:function(t,e){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNjZjOTE4MWZlYjg5MjU4OGQ3NzciLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N3ZWV0LXNjcm9sbC9zd2VldC1zY3JvbGwuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJ2YWx1ZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9zd2VldF9zY3JvbGxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9zd2VldF9zY3JvbGxfX19kZWZhdWx0IiwiZG9jdW1lbnQiLCJhIiwidHJpZ2dlciIsImZhY3RvcnkiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsInRoaXMiLCJjYW5Vc2VET00iLCJ3aW5kb3ciLCJjcmVhdGVFbGVtZW50IiwiY2FuVXNlSGlzdG9yeSIsImhpc3RvcnkiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiY2FuVXNlUGFzc2l2ZU9wdGlvbiIsInN1cHBvcnQiLCJ3aW4iLCJvcHRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwiaXNTdHJpbmciLCJvYmoiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsIkFycmF5IiwiaGFzUHJvcCIsImtleSIsInJhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJjYWYiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNvcyIsIk1hdGgiLCJzaW4iLCJwb3ciLCJzcXJ0IiwiUEkiLCJlYXNpbmdzIiwibGluZWFyIiwiZWFzZUluUXVhZCIsIl8iLCJiIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiJCQiLCJzZWxlY3RvciIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsIiQiLCJzaGlmdCIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJpc1dpbmRvdyIsIiRlbCIsImlzUm9vdENvbnRhaW5lciIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJtYXRjaGVzIiwicmVzdWx0cyIsImdldEhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsIm9mZnNldEhlaWdodCIsImdldFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsIm9mZnNldFdpZHRoIiwiZ2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGlyZWN0aW9uTWV0aG9kTWFwIiwieSIsIngiLCJkaXJlY3Rpb25Qcm9wTWFwIiwiZ2V0U2Nyb2xsIiwiZGlyZWN0aW9uIiwic2V0U2Nyb2xsIiwib2Zmc2V0IiwidG9wXzEiLCJzY3JvbGxUbyIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJnZXRPZmZzZXQiLCIkY29udGV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JvbGxfMSIsInRvcCIsImxlZnQiLCIkY3R4IiwiY1JlY3QiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwid2hlZWxFdmVudE5hbWUiLCJtZXRob2QiLCJldmVudCIsImxpc3RlbmVyIiwicGFzc2l2ZSIsInNwbGl0IiwiZm9yRWFjaCIsImV2ZW50TmFtZSIsImFkZEV2ZW50IiwicmVtb3ZlRXZlbnQiLCJyZVJlbGF0aXZlVG9rZW4iLCJwYXJzZUNvb3JkaW5hdGUiLCJjb29yZGluYXRlIiwiZW5hYmxlVmVydGljYWwiLCJyZXMiLCJyZWxhdGl2ZSIsInBhcnNlRmxvYXQiLCJ0cmltIiwibWF0Y2giLCJvcCIsInZhbCIsInBhcnNlSW50IiwiZGVmYXVsdE9wdGlvbnMiLCJoZWFkZXIiLCJkdXJhdGlvbiIsImVhc2luZyIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsImNhbmNlbGxhYmxlIiwidXBkYXRlVVJMIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJiZWZvcmUiLCJhZnRlciIsImNhbmNlbCIsImNvbXBsZXRlIiwic3RlcCIsIlN3ZWV0U2Nyb2xsIiwib3B0aW9ucyIsImNvbnRhaW5lciIsIl90aGlzIiwiY3R4IiwiJHRyaWdnZXIiLCJwcm9ncmVzcyIsInBvcyIsInN0YXJ0UG9zIiwic3RhcnQiLCJpZCIsImhhc2giLCJsb29wIiwidGltZSIsIl9hIiwic3RhcnRPZmZzZXQiLCJkaXJlY3Rpb25NYXAiLCJ0aW1lRWxhcHNlZCIsIm1pbiIsImtleXMiLCJpbml0aWFsIiwiZGVsdGEiLCJyb3VuZCIsImhvb2siLCJzdG9wIiwiaGFuZGxlQ2xpY2siLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZGF0YU9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJnZXRBdHRyaWJ1dGUiLCJ0byIsInRvVG9wIiwidG9MZWZ0IiwiaGFuZGxlU3RvcCIsIiRjb250YWluZXIiLCJjcmVhdGUiLCJkaXN0YW5jZSIsImN1cnJlbnRPcHRpb25zIiwib3B0T2Zmc2V0IiwiJGhlYWRlciIsInRlc3QiLCJzY3JvbGwiLCJjdXJyZW50IiwiJHRhcmdldCIsIl9iIiwiaXNSb290Iiwidmlld3BvcnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzaXplIiwiZ2V0Vmlld3BvcnRBbmRFbGVtZW50U2l6ZXMiLCJ0b0VsZW1lbnQiLCIkZWxlbWVudCIsImdvdG9FbmQiLCJ1cGRhdGUiLCJ1bmJpbmQiLCJkZXN0cm95Iiwib25CZWZvcmUiLCJfXyIsIm9uU3RlcCIsIm9uQWZ0ZXIiLCJvbkNhbmNlbCIsIm9uQ29tcGxldGUiLCJ0eXBlIiwiYXJncyIsIl9pIiwiY2FsbGJhY2tSZXN1bHQiLCJtZXRob2RSZXN1bHQiLCJjYWxsYmFjayIsImNvbmNhdCIsInRvVXBwZXJDYXNlIiwidW5kZWZpbmVkIiwiY2xpY2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWhCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQWlCLFdBQ0EsV0FBMkIsT0FBQWpCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxF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RSxHQVNBLE9BTEFqTSxFQUFBc00sS0FDQUYsRUFBQUUsRUFBQXhOLE1BQUFDLEtBQUFtTixFQUFBSyxRQUFBeE4sU0FHQXNOLEdBQUF2RCxFQUFBL0osTUFBQSxNQUFBa04sRUFBQSxHQUFBTyxjQUFBUCxFQUFBdEosTUFBQSxLQUFBN0QsTUFBQWdLLEVBQUFvRCxRQUNBTyxJQUFBTCxJQUFBQyxHQUtBckUsRUFBQW5LLFVBQUEwQyxLQUFBLFNBQUFtTSxFQUFBbEQsR0FDQSxJQUFBdEcsRUFBQW5FLEtBQUFtRSxJQUFBeEQsRUFBQVgsS0FBQXFKLElBQUExSSxLQUNBd0QsSUFDQXdKLEdBQ0F2RyxFQUFBakQsRUFqV0EsUUFpV0FuRSxLQUFBMEssYUFBQSxHQUVBRCxHQUNBckQsRUFBQWpELEVBbldBLDZCQW1XQW5FLEtBQUFvTCxZQUFBekssS0FBQTZILGVBT0FTLEVBQUFuSyxVQUFBNE4sT0FBQSxTQUFBaUIsRUFBQWxELEdBQ0EsSUFBQXRHLEVBQUFuRSxLQUFBbUUsSUFBQXhELEVBQUFYLEtBQUFxSixJQUFBMUksS0FDQXdELElBQ0F3SixHQUNBdEcsRUFBQWxELEVBL1dBLFFBK1dBbkUsS0FBQTBLLGFBQUEsR0FFQUQsR0FDQXBELEVBQUFsRCxFQWpYQSw2QkFpWEFuRSxLQUFBb0wsWUFBQXpLLEtBQUE2SCxlQU9BUyxFQUFBM0gsTUFDQTJILEVBQUF4SCxNQUNBd0gsRUF6WEEsSUFqVGdFdkwsRUFBQUQsUUFBQWdDIiwiZmlsZSI6Ii9wdWJsaWMvY29tbW9uL2pzL3NjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMjApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDY2YzkxODFmZWI4OTI1ODhkNzc3IiwiaW1wb3J0IFN3ZWV0U2Nyb2xsIGZyb20gJ3N3ZWV0LXNjcm9sbCc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IHN3ZWV0U2Nyb2xsID0gbmV3IFN3ZWV0U2Nyb2xsKHtcbiAgICAgIHRyaWdnZXI6IFwiYVtocmVmXj0nIyddXCJcbiAgfSk7XG59LCBmYWxzZSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zY3JpcHQuanMiLCIvKiEgQHByZXNlcnZlIHN3ZWV0LXNjcm9sbCB2NC4wLjAgLSB0c3V5b3NoaXdhZGEgfCBNSVQgTGljZW5zZSAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Td2VldFNjcm9sbCA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG4gICAgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuICAgIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG4gICAgVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG4gICAgS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG4gICAgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuICAgIE1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG4gICAgU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbiAgICBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuICAgIHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XG5cbiAgICAvLyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vSmVkV2F0c29uL2V4ZW52L2Jsb2IvbWFzdGVyL2luZGV4LmpzXHJcbiAgICB2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQgJiZcclxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XHJcbiAgICB2YXIgY2FuVXNlSGlzdG9yeSA9ICFjYW5Vc2VET01cclxuICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgOiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOic7XHJcbiAgICB2YXIgY2FuVXNlUGFzc2l2ZU9wdGlvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN1cHBvcnQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWNhblVzZURPTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwcG9ydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tZW1wdHkgKi9cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgd2luID0gd2luZG93O1xyXG4gICAgICAgICAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xyXG4gICAgICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZSAqL1xyXG4gICAgICAgIHJldHVybiBzdXBwb3J0O1xyXG4gICAgfSkoKTtcblxuICAgIHZhciBpc1N0cmluZyA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnOyB9O1xyXG4gICAgdmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nOyB9O1xyXG4gICAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBBcnJheS5pc0FycmF5KG9iaik7IH07XHJcbiAgICB2YXIgaXNOdW1lcmljID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gIWlzQXJyYXkob2JqKSAmJiBvYmogLSBwYXJzZUZsb2F0KG9iaikgKyAxID49IDA7IH07XHJcbiAgICB2YXIgaGFzUHJvcCA9IGZ1bmN0aW9uIChvYmosIGtleSkgeyByZXR1cm4gb2JqICYmIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpOyB9O1xuXG4gICAgdmFyIHJhZiA9IGNhblVzZURPTVxyXG4gICAgICAgID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdylcclxuICAgICAgICA6IG51bGw7XHJcbiAgICB2YXIgY2FmID0gY2FuVXNlRE9NXHJcbiAgICAgICAgPyB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpXHJcbiAgICAgICAgOiBudWxsO1xuXG4gICAgLyogdHNsaW50OmRpc2FibGU6Y3VybHkgKi9cclxuICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnQgKi9cclxuICAgIHZhciBjb3MgPSBNYXRoLmNvcywgc2luID0gTWF0aC5zaW4sIHBvdyA9IE1hdGgucG93LCBzcXJ0ID0gTWF0aC5zcXJ0LCBQSSA9IE1hdGguUEk7XHJcbiAgICB2YXIgZWFzaW5ncyA9IHtcclxuICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uIChwKSB7IHJldHVybiBwOyB9LFxyXG4gICAgICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjsgfSxcclxuICAgICAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgLz0gZCAvIDIpIDwgMSA/IChjIC8gMikgKiB0ICogdCArIGIgOiAoLWMgLyAyKSAqICgtLXQgKiAodCAtIDIpIC0gMSkgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7IH0sXHJcbiAgICAgICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0IC89IGQgLyAyKSA8IDEgPyAoYyAvIDIpICogdCAqIHQgKiB0ICsgYiA6IChjIC8gMikgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjsgfSxcclxuICAgICAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7IH0sXHJcbiAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodCAvPSBkIC8gMikgPCAxID8gKGMgLyAyKSAqIHQgKiB0ICogdCAqIHQgKyBiIDogKC1jIC8gMikgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0IC89IGQgLyAyKSA8IDFcclxuICAgICAgICAgICAgICAgID8gKGMgLyAyKSAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYlxyXG4gICAgICAgICAgICAgICAgOiAoYyAvIDIpICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJblNpbmU6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAtYyAqIGNvcygodCAvIGQpICogKFBJIC8gMikpICsgYyArIGI7IH0sXHJcbiAgICAgICAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiBjICogc2luKCh0IC8gZCkgKiAoUEkgLyAyKSkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAoLWMgLyAyKSAqIChjb3MoKFBJICogdCkgLyBkKSAtIDEpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gKHQgPT09IDAgPyBiIDogYyAqIHBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGIpOyB9LFxyXG4gICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gKHQgPT09IGQgPyBiICsgYyA6IGMgKiAoLXBvdygyLCAoLTEwICogdCkgLyBkKSArIDEpICsgYik7IH0sXHJcbiAgICAgICAgZWFzZUluT3V0RXhwbzogZnVuY3Rpb24gKF8sIHQsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgaWYgKHQgPT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYjtcclxuICAgICAgICAgICAgaWYgKHQgPT09IGQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiArIGM7XHJcbiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChjIC8gMikgKiBwb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XHJcbiAgICAgICAgICAgIHJldHVybiAoYyAvIDIpICogKC1wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhc2VJbkNpcmM6IGZ1bmN0aW9uIChfLCB0LCBiLCBjLCBkKSB7IHJldHVybiAtYyAqIChzcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiOyB9LFxyXG4gICAgICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkgeyByZXR1cm4gYyAqIHNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjsgfSxcclxuICAgICAgICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbiAoXywgdCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQgLz0gZCAvIDIpIDwgMVxyXG4gICAgICAgICAgICAgICAgPyAoLWMgLyAyKSAqIChzcXJ0KDEgLSB0ICogdCkgLSAxKSArIGJcclxuICAgICAgICAgICAgICAgIDogKGMgLyAyKSAqIChzcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xyXG4gICAgICAgIH0sXHJcbiAgICB9O1xuXG4gICAgdmFyICQkID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCghc2VsZWN0b3IgPyBbXSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyICQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHsgcmV0dXJuICQkKHNlbGVjdG9yKS5zaGlmdCgpIHx8IG51bGw7IH07XHJcbiAgICB2YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgRWxlbWVudDsgfTtcclxuICAgIHZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uICgkZWwpIHsgcmV0dXJuICRlbCA9PT0gd2luZG93OyB9O1xyXG4gICAgdmFyIGlzUm9vdENvbnRhaW5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICByZXR1cm4gJGVsID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgJGVsID09PSBkb2N1bWVudC5ib2R5O1xyXG4gICAgfTtcclxuICAgIHZhciBtYXRjaGVzID0gZnVuY3Rpb24gKCRlbCwgc2VsZWN0b3IpIHtcclxuICAgICAgICBpZiAoaXNFbGVtZW50KHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGVsID09PSBzZWxlY3RvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdHMgPSAkJChzZWxlY3Rvcik7XHJcbiAgICAgICAgdmFyIGkgPSByZXN1bHRzLmxlbmd0aDtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcclxuICAgICAgICB3aGlsZSAoLS1pID49IDAgJiYgcmVzdWx0c1tpXSAhPT0gJGVsKSB7IH1cclxuICAgICAgICByZXR1cm4gaSA+IC0xO1xyXG4gICAgfTtcblxuICAgIHZhciBnZXRIZWlnaHQgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KCRlbC5zY3JvbGxIZWlnaHQsICRlbC5jbGllbnRIZWlnaHQsICRlbC5vZmZzZXRIZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRXaWR0aCA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoJGVsLnNjcm9sbFdpZHRoLCAkZWwuY2xpZW50V2lkdGgsICRlbC5vZmZzZXRXaWR0aCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFNpemUgPSBmdW5jdGlvbiAoJGVsKSB7IHJldHVybiAoe1xyXG4gICAgICAgIHdpZHRoOiBnZXRXaWR0aCgkZWwpLFxyXG4gICAgICAgIGhlaWdodDogZ2V0SGVpZ2h0KCRlbCksXHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBnZXRWaWV3cG9ydEFuZEVsZW1lbnRTaXplcyA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICB2YXIgaXNSb290ID0gaXNXaW5kb3coJGVsKSB8fCBpc1Jvb3RDb250YWluZXIoJGVsKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2aWV3cG9ydDoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGlzUm9vdFxyXG4gICAgICAgICAgICAgICAgICAgID8gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcclxuICAgICAgICAgICAgICAgICAgICA6ICRlbC5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogaXNSb290ID8gd2luZG93LmlubmVySGVpZ2h0IDogJGVsLmNsaWVudEhlaWdodCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2l6ZTogaXNSb290XHJcbiAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5tYXgoZ2V0V2lkdGgoZG9jdW1lbnQuYm9keSksIGdldFdpZHRoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5tYXgoZ2V0SGVpZ2h0KGRvY3VtZW50LmJvZHkpLCBnZXRIZWlnaHQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IGdldFNpemUoJGVsKSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcblxuICAgIHZhciBkaXJlY3Rpb25NZXRob2RNYXAgPSB7XHJcbiAgICAgICAgeTogJ3Njcm9sbFRvcCcsXHJcbiAgICAgICAgeDogJ3Njcm9sbExlZnQnLFxyXG4gICAgfTtcclxuICAgIHZhciBkaXJlY3Rpb25Qcm9wTWFwID0ge1xyXG4gICAgICAgIHk6ICdwYWdlWU9mZnNldCcsXHJcbiAgICAgICAgeDogJ3BhZ2VYT2Zmc2V0JyxcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0U2Nyb2xsID0gZnVuY3Rpb24gKCRlbCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzV2luZG93KCRlbCkgPyAkZWxbZGlyZWN0aW9uUHJvcE1hcFtkaXJlY3Rpb25dXSA6ICRlbFtkaXJlY3Rpb25NZXRob2RNYXBbZGlyZWN0aW9uXV07XHJcbiAgICB9O1xyXG4gICAgdmFyIHNldFNjcm9sbCA9IGZ1bmN0aW9uICgkZWwsIG9mZnNldCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKGlzV2luZG93KCRlbCkpIHtcclxuICAgICAgICAgICAgdmFyIHRvcF8xID0gZGlyZWN0aW9uID09PSAneSc7XHJcbiAgICAgICAgICAgICRlbC5zY3JvbGxUbyghdG9wXzEgPyBvZmZzZXQgOiAkZWwucGFnZVhPZmZzZXQsIHRvcF8xID8gb2Zmc2V0IDogJGVsLnBhZ2VZT2Zmc2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICRlbFtkaXJlY3Rpb25NZXRob2RNYXBbZGlyZWN0aW9uXV0gPSBvZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiAoJGVsLCAkY29udGV4dCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlmIChyZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxfMSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XHJcbiAgICAgICAgICAgIHZhciAkY3R4ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICBpZiAoaXNXaW5kb3coJGNvbnRleHQpIHx8IGlzUm9vdENvbnRhaW5lcigkY29udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICRjdHggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxfMS50b3AgPSB3aW5kb3dbZGlyZWN0aW9uUHJvcE1hcC55XTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbF8xLmxlZnQgPSB3aW5kb3dbZGlyZWN0aW9uUHJvcE1hcC54XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRjdHggPSAkY29udGV4dDtcclxuICAgICAgICAgICAgICAgIHZhciBjUmVjdCA9ICRjdHguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxfMS50b3AgPSBjUmVjdC50b3AgKiAtMSArICRjdHhbZGlyZWN0aW9uTWV0aG9kTWFwLnldO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsXzEubGVmdCA9IGNSZWN0LmxlZnQgKiAtMSArICRjdHhbZGlyZWN0aW9uTWV0aG9kTWFwLnhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IHJlY3QudG9wICsgc2Nyb2xsXzEudG9wIC0gJGN0eC5jbGllbnRUb3AsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxfMS5sZWZ0IC0gJGN0eC5jbGllbnRMZWZ0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVjdDtcclxuICAgIH07XG5cbiAgICB2YXIgd2hlZWxFdmVudE5hbWUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2FuVXNlRE9NKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnd2hlZWwnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ29ud2hlZWwnIGluIGRvY3VtZW50ID8gJ3doZWVsJyA6ICdtb3VzZXdoZWVsJztcclxuICAgIH0pKCk7XHJcbiAgICB2YXIgZXZlbnROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIChuYW1lID09PSAnd2hlZWwnID8gd2hlZWxFdmVudE5hbWUgOiBuYW1lKTsgfTtcclxuICAgIHZhciBhcHBseSA9IGZ1bmN0aW9uICgkZWwsIG1ldGhvZCwgZXZlbnQsIGxpc3RlbmVyLCBwYXNzaXZlKSB7XHJcbiAgICAgICAgZXZlbnQuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICRlbFttZXRob2RdKGV2ZW50TmFtZShuYW1lKSwgbGlzdGVuZXIsIGNhblVzZVBhc3NpdmVPcHRpb24gPyB7IHBhc3NpdmU6IHBhc3NpdmUgfSA6IGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYWRkRXZlbnQgPSBmdW5jdGlvbiAoJGVsLCBldmVudCwgbGlzdGVuZXIsIHBhc3NpdmUpIHsgcmV0dXJuIGFwcGx5KCRlbCwgJ2FkZEV2ZW50TGlzdGVuZXInLCBldmVudCwgbGlzdGVuZXIsIHBhc3NpdmUpOyB9O1xyXG4gICAgdmFyIHJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKCRlbCwgZXZlbnQsIGxpc3RlbmVyLCBwYXNzaXZlKSB7IHJldHVybiBhcHBseSgkZWwsICdyZW1vdmVFdmVudExpc3RlbmVyJywgZXZlbnQsIGxpc3RlbmVyLCBwYXNzaXZlKTsgfTtcblxuICAgIHZhciByZVJlbGF0aXZlVG9rZW4gPSAvXihcXCt8LSk9KFxcZCsoPzpcXC5cXGQrKT8pJC87XHJcbiAgICB2YXIgcGFyc2VDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGVuYWJsZVZlcnRpY2FsKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IHsgdG9wOiAwLCBsZWZ0OiAwLCByZWxhdGl2ZTogZmFsc2UgfTtcclxuICAgICAgICAvLyBPYmplY3QgKHsgdG9wOiB7bn0sIGxlZnQ6IHtufSB9KVxyXG4gICAgICAgIGlmIChoYXNQcm9wKGNvb3JkaW5hdGUsICd0b3AnKSB8fCBoYXNQcm9wKGNvb3JkaW5hdGUsICdsZWZ0JykpIHtcclxuICAgICAgICAgICAgcmVzID0gX19hc3NpZ24oe30sIHJlcywgY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgIC8vIEFycmF5IChbe259LCBbe259XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShjb29yZGluYXRlKSkge1xyXG4gICAgICAgICAgICBpZiAoY29vcmRpbmF0ZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXMudG9wID0gY29vcmRpbmF0ZVswXTtcclxuICAgICAgICAgICAgICAgIHJlcy5sZWZ0ID0gY29vcmRpbmF0ZVsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb29yZGluYXRlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnRvcCA9IGVuYWJsZVZlcnRpY2FsID8gY29vcmRpbmF0ZVswXSA6IDA7XHJcbiAgICAgICAgICAgICAgICByZXMubGVmdCA9ICFlbmFibGVWZXJ0aWNhbCA/IGNvb3JkaW5hdGVbMF0gOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gTnVtYmVyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzTnVtZXJpYyhjb29yZGluYXRlKSkge1xyXG4gICAgICAgICAgICBpZiAoZW5hYmxlVmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHJlcy50b3AgPSBjb29yZGluYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLmxlZnQgPSBjb29yZGluYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFN0cmluZyAoJys9e259JywgJy09e259JylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoY29vcmRpbmF0ZSkpIHtcclxuICAgICAgICAgICAgdmFyIG0gPSBjb29yZGluYXRlLnRyaW0oKS5tYXRjaChyZVJlbGF0aXZlVG9rZW4pO1xyXG4gICAgICAgICAgICBpZiAoIW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBvcCA9IG1bMV07XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBwYXJzZUludChtWzJdLCAxMCk7XHJcbiAgICAgICAgICAgIGlmIChvcCA9PT0gJysnKSB7XHJcbiAgICAgICAgICAgICAgICByZXMudG9wID0gZW5hYmxlVmVydGljYWwgPyB2YWwgOiAwO1xyXG4gICAgICAgICAgICAgICAgcmVzLmxlZnQgPSAhZW5hYmxlVmVydGljYWwgPyB2YWwgOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnRvcCA9IGVuYWJsZVZlcnRpY2FsID8gLXZhbCA6IDA7XHJcbiAgICAgICAgICAgICAgICByZXMubGVmdCA9ICFlbmFibGVWZXJ0aWNhbCA/IC12YWwgOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5yZWxhdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XG5cbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgdHJpZ2dlcjogJ1tkYXRhLXNjcm9sbF0nLFxyXG4gICAgICAgIGhlYWRlcjogJ1tkYXRhLXNjcm9sbC1oZWFkZXJdJyxcclxuICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxyXG4gICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICBob3Jpem9udGFsOiBmYWxzZSxcclxuICAgICAgICBjYW5jZWxsYWJsZTogdHJ1ZSxcclxuICAgICAgICB1cGRhdGVVUkw6IGZhbHNlLFxyXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogdHJ1ZSxcclxuICAgICAgICAvLyBDYWxsYmFja3NcclxuICAgICAgICBiZWZvcmU6IG51bGwsXHJcbiAgICAgICAgYWZ0ZXI6IG51bGwsXHJcbiAgICAgICAgY2FuY2VsOiBudWxsLFxyXG4gICAgICAgIGNvbXBsZXRlOiBudWxsLFxyXG4gICAgICAgIHN0ZXA6IG51bGwsXHJcbiAgICB9O1xuXG4gICAgdmFyIENPTlRBSU5FUl9DTElDS19FVkVOVCA9ICdjbGljayc7XHJcbiAgICB2YXIgQ09OVEFJTkVSX1NUT1BfRVZFTlQgPSAnd2hlZWwgdG91Y2hzdGFydCB0b3VjaG1vdmUnO1xyXG4gICAgdmFyIFN3ZWV0U2Nyb2xsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gU3dlZXRTY3JvbGwob3B0aW9ucywgY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB7XHJcbiAgICAgICAgICAgICAgICAkdHJpZ2dlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9wdHM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwb3M6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGFydFBvczogbnVsbCxcclxuICAgICAgICAgICAgICAgIGVhc2luZzogbnVsbCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICBjYW5jZWw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGFzaDogbnVsbCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEhhbmRsZSBlYWNoIGZyYW1lIG9mIHRoZSBhbmltYXRpb24uXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmxvb3AgPSBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMsICRlbCA9IF9hLiRlbCwgY3R4ID0gX2EuY3R4O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdHguc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc3RhcnQgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjdHgucHJvZ3Jlc3MgfHwgISRlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGN0eC5vcHRzO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGN0eC5wb3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBjdHguc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRPZmZzZXQgPSBjdHguc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWFzaW5nID0gY3R4LmVhc2luZztcclxuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uTWFwID0geyB0b3A6ICd5JywgbGVmdDogJ3gnIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZUVsYXBzZWQgPSB0aW1lIC0gc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KHRpbWVFbGFwc2VkIC8gZHVyYXRpb24sIDApKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9mZnNldCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2Zmc2V0W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWwgPSBzdGFydE9mZnNldFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IHZhbHVlIC0gaW5pdGlhbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGVhc2luZyh0LCBkdXJhdGlvbiAqIHQsIDAsIDEsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2Nyb2xsKCRlbCwgTWF0aC5yb3VuZChpbml0aWFsICsgZGVsdGEgKiB2YWwpLCBkaXJlY3Rpb25NYXBba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZUVsYXBzZWQgPD0gZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ob29rKG9wdGlvbnMsICdzdGVwJywgdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmlkID0gU3dlZXRTY3JvbGwucmFmKF90aGlzLmxvb3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RvcCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEhhbmRsaW5nIG9mIGNvbnRhaW5lciBjbGljayBldmVudC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdHMgPSBfdGhpcy5vcHRzO1xyXG4gICAgICAgICAgICAgICAgdmFyICRlbCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgZm9yICg7ICRlbCAmJiAkZWwgIT09IGRvY3VtZW50OyAkZWwgPSAkZWwucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcygkZWwsIG9wdHMudHJpZ2dlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhT3B0aW9ucyA9IEpTT04ucGFyc2UoJGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtb3B0aW9ucycpIHx8ICd7fScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG8gPSBkYXRhIHx8ICRlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRzLCBkYXRhT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCwgc3RvcFByb3BhZ2F0aW9uID0gb3B0aW9ucy5zdG9wUHJvcGFnYXRpb24sIHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbCwgaG9yaXpvbnRhbCA9IG9wdGlvbnMuaG9yaXpvbnRhbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmVudERlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3NlcyB0aGUgdHJpZ2dlciBlbGVtZW50IHRvIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LiR0cmlnZ2VyID0gJGVsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3Jpem9udGFsICYmIHZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvKHRvLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9Ub3AodG8sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChob3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvTGVmdCh0bywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogSGFuZGxpbmcgb2YgY29udGFpbmVyIHN0b3AgZXZlbnRzLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdG9wID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBfdGhpcy5jdHg7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IGN0eC5vcHRzO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5jYW5jZWxsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jYW5jZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5vcHRzID0gX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCAob3B0aW9ucyB8fCB7fSkpO1xyXG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChjYW5Vc2VET00pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gd2luZG93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuJGVsID0gJGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgaWYgKCRjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZCh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3dlZXRTY3JvbGwgaW5zdGFuY2UgZmFjdG9yeS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucywgY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3dlZXRTY3JvbGwob3B0aW9ucywgY29udGFpbmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjcm9sbCBhbmltYXRpb24gdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAoZGlzdGFuY2UsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKCFjYW5Vc2VET00pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCAkZWwgPSBfYS4kZWwsIGN0eCA9IF9hLmN0eCwgY3VycmVudE9wdGlvbnMgPSBfYS5vcHRzO1xyXG4gICAgICAgICAgICB2YXIgJHRyaWdnZXIgPSBjdHguJHRyaWdnZXI7XHJcbiAgICAgICAgICAgIHZhciBvcHRzID0gX19hc3NpZ24oe30sIGN1cnJlbnRPcHRpb25zLCAob3B0aW9ucyB8fCB7fSkpO1xyXG4gICAgICAgICAgICB2YXIgb3B0T2Zmc2V0ID0gb3B0cy5vZmZzZXQsIHZlcnRpY2FsID0gb3B0cy52ZXJ0aWNhbCwgaG9yaXpvbnRhbCA9IG9wdHMuaG9yaXpvbnRhbDtcclxuICAgICAgICAgICAgdmFyICRoZWFkZXIgPSBpc0VsZW1lbnQob3B0cy5oZWFkZXIpID8gb3B0cy5oZWFkZXIgOiAkKG9wdHMuaGVhZGVyKTtcclxuICAgICAgICAgICAgdmFyIHJlZyA9IC9eIy87XHJcbiAgICAgICAgICAgIHZhciBoYXNoID0gaXNTdHJpbmcoZGlzdGFuY2UpICYmIHJlZy50ZXN0KGRpc3RhbmNlKSA/IGRpc3RhbmNlIDogbnVsbDtcclxuICAgICAgICAgICAgY3R4Lm9wdHMgPSBvcHRzOyAvLyBUZW1wb3Jhcnkgb3B0aW9uc1xyXG4gICAgICAgICAgICBjdHguY2FuY2VsID0gZmFsc2U7IC8vIERpc2FibGUgdGhlIGNhbGwgZmxhZyBvZiBgY2FuY2VsYFxyXG4gICAgICAgICAgICBjdHguaGFzaCA9IGhhc2g7XHJcbiAgICAgICAgICAgIC8vIFN0b3AgY3VycmVudCBhbmltYXRpb25cclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIC8vIERvZXMgbm90IG1vdmUgaWYgdGhlIGNvbnRhaW5lciBpcyBub3QgZm91bmRcclxuICAgICAgICAgICAgaWYgKCEkZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBHZXQgc2Nyb2xsIG9mZnNldFxyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VDb29yZGluYXRlKG9wdE9mZnNldCwgdmVydGljYWwpO1xyXG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZSA9IHBhcnNlQ29vcmRpbmF0ZShkaXN0YW5jZSwgdmVydGljYWwpO1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcclxuICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlLnJlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBnZXRTY3JvbGwoJGVsLCB2ZXJ0aWNhbCA/ICd5JyA6ICd4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsLnRvcCA9IHZlcnRpY2FsID8gY3VycmVudCArIGNvb3JkaW5hdGUudG9wIDogY29vcmRpbmF0ZS50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsLmxlZnQgPSAhdmVydGljYWwgPyBjdXJyZW50ICsgY29vcmRpbmF0ZS5sZWZ0IDogY29vcmRpbmF0ZS5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsID0gY29vcmRpbmF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhkaXN0YW5jZSkgJiYgZGlzdGFuY2UgIT09ICcjJykge1xyXG4gICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKGRpc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGlmICghJHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjcm9sbCA9IGdldE9mZnNldCgkdGFyZ2V0LCAkZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC50b3AgKz0gb2Zmc2V0LnRvcDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5sZWZ0ICs9IG9mZnNldC5sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkaGVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwudG9wID0gTWF0aC5tYXgoMCwgc2Nyb2xsLnRvcCAtIGdldFNpemUoJGhlYWRlcikuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgc2Nyb2xsIG9mZnNldFxyXG4gICAgICAgICAgICB2YXIgX2IgPSBnZXRWaWV3cG9ydEFuZEVsZW1lbnRTaXplcygkZWwpLCB2aWV3cG9ydCA9IF9iLnZpZXdwb3J0LCBzaXplID0gX2Iuc2l6ZTtcclxuICAgICAgICAgICAgc2Nyb2xsLnRvcCA9IHZlcnRpY2FsXHJcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGgubWluKHNpemUuaGVpZ2h0IC0gdmlld3BvcnQuaGVpZ2h0LCBzY3JvbGwudG9wKSlcclxuICAgICAgICAgICAgICAgIDogZ2V0U2Nyb2xsKCRlbCwgJ3knKTtcclxuICAgICAgICAgICAgc2Nyb2xsLmxlZnQgPSBob3Jpem9udGFsXHJcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGgubWluKHNpemUud2lkdGggLSB2aWV3cG9ydC53aWR0aCwgc2Nyb2xsLmxlZnQpKVxyXG4gICAgICAgICAgICAgICAgOiBnZXRTY3JvbGwoJGVsLCAneCcpO1xyXG4gICAgICAgICAgICAvLyBDYWxsIGBiZWZvcmVgXHJcbiAgICAgICAgICAgIC8vIFN0b3Agc2Nyb2xsaW5nIHdoZW4gaXQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5ob29rKG9wdHMsICdiZWZvcmUnLCBzY3JvbGwsICR0cmlnZ2VyKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5vcHRzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZXQgb2Zmc2V0XHJcbiAgICAgICAgICAgIGN0eC5wb3MgPSBzY3JvbGw7XHJcbiAgICAgICAgICAgIC8vIFJ1biBhbmltYXRpb24hIVxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KG9wdHMpO1xyXG4gICAgICAgICAgICAvLyBCaW5kIHN0b3AgZXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMuYmluZChmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY3JvbGwgYW5pbWF0aW9uIHRvIHNwZWNpZmllZCBsZWZ0IHBvc2l0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS50b1RvcCA9IGZ1bmN0aW9uIChkaXN0YW5jZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLnRvKGRpc3RhbmNlLCBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pLCB7IHZlcnRpY2FsOiB0cnVlLCBob3Jpem9udGFsOiBmYWxzZSB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY3JvbGwgYW5pbWF0aW9uIHRvIHNwZWNpZmllZCB0b3AgcG9zaXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLnRvTGVmdCA9IGZ1bmN0aW9uIChkaXN0YW5jZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLnRvKGRpc3RhbmNlLCBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pLCB7IHZlcnRpY2FsOiBmYWxzZSwgaG9yaXpvbnRhbDogdHJ1ZSB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY3JvbGwgYW5pbWF0aW9uIHRvIHNwZWNpZmllZCBlbGVtZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS50b0VsZW1lbnQgPSBmdW5jdGlvbiAoJGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyICRlbCA9IHRoaXMuJGVsO1xyXG4gICAgICAgICAgICBpZiAoIWNhblVzZURPTSB8fCAhJGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50byhnZXRPZmZzZXQoJGVsZW1lbnQsICRlbCksIG9wdGlvbnMgfHwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RvcCB0aGUgY3VycmVudCBzY3JvbGwgYW5pbWF0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKGdvdG9FbmQpIHtcclxuICAgICAgICAgICAgaWYgKGdvdG9FbmQgPT09IHZvaWQgMCkgeyBnb3RvRW5kID0gZmFsc2U7IH1cclxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgJGVsID0gX2EuJGVsLCBjdHggPSBfYS5jdHg7XHJcbiAgICAgICAgICAgIHZhciBwb3MgPSBjdHgucG9zO1xyXG4gICAgICAgICAgICBpZiAoISRlbCB8fCAhY3R4LnByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU3dlZXRTY3JvbGwuY2FmKGN0eC5pZCk7XHJcbiAgICAgICAgICAgIGN0eC5wcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjdHguc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICBjdHguaWQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoZ290b0VuZCAmJiBwb3MpIHtcclxuICAgICAgICAgICAgICAgIHNldFNjcm9sbCgkZWwsIHBvcy5sZWZ0LCAneCcpO1xyXG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsKCRlbCwgcG9zLnRvcCwgJ3knKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGUgb3B0aW9ucy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IF9fYXNzaWduKHt9LCB0aGlzLm9wdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmQodHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZXN0cm95IGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4kZWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmJpbmQodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGxiYWNrIG1ldGhvZHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tZW1wdHkgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUub25CZWZvcmUgPSBmdW5jdGlvbiAoXywgX18pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUub25TdGVwID0gZnVuY3Rpb24gKF8pIHsgfTtcclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUub25BZnRlciA9IGZ1bmN0aW9uIChfLCBfXykgeyB9O1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5vbkNhbmNlbCA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUub25Db21wbGV0ZSA9IGZ1bmN0aW9uIChfKSB7IH07XHJcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZSAqL1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0YXJ0IHNjcm9sbGluZyBhbmltYXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgICAgICBjdHgub3B0cyA9IG9wdHM7XHJcbiAgICAgICAgICAgIGN0eC5wcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGN0eC5lYXNpbmcgPSBpc0Z1bmN0aW9uKG9wdHMuZWFzaW5nKVxyXG4gICAgICAgICAgICAgICAgPyBvcHRzLmVhc2luZ1xyXG4gICAgICAgICAgICAgICAgOiBlYXNpbmdzW29wdHMuZWFzaW5nXTtcclxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXJ0IG9mZnNldC5cclxuICAgICAgICAgICAgdmFyICRjb250YWluZXIgPSB0aGlzLiRlbDtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge1xyXG4gICAgICAgICAgICAgICAgdG9wOiBnZXRTY3JvbGwoJGNvbnRhaW5lciwgJ3knKSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGdldFNjcm9sbCgkY29udGFpbmVyLCAneCcpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjdHguc3RhcnRQb3MgPSBzdGFydDtcclxuICAgICAgICAgICAgLy8gTG9vcFxyXG4gICAgICAgICAgICBjdHguaWQgPSBTd2VldFNjcm9sbC5yYWYodGhpcy5sb29wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhhbmRsZSB0aGUgY29tcGxldGlvbiBvZiBzY3JvbGxpbmcgYW5pbWF0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgJGVsID0gX2EuJGVsLCBjdHggPSBfYS5jdHg7XHJcbiAgICAgICAgICAgIHZhciBoYXNoID0gY3R4Lmhhc2gsIGNhbmNlbCA9IGN0eC5jYW5jZWwsIG9wdHMgPSBjdHgub3B0cywgcG9zID0gY3R4LnBvcywgJHRyaWdnZXIgPSBjdHguJHRyaWdnZXI7XHJcbiAgICAgICAgICAgIGlmICghJGVsIHx8ICFvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhc2ggIT0gbnVsbCAmJiBoYXNoICE9PSB3aW5kb3cubG9jYXRpb24uaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVVSTCA9IG9wdHMudXBkYXRlVVJMO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhblVzZURPTSAmJiBjYW5Vc2VIaXN0b3J5ICYmIHVwZGF0ZVVSTCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeVt1cGRhdGVVUkwgPT09ICdyZXBsYWNlJyA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKG51bGwsICcnLCBoYXNoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVuYmluZChmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGN0eC5vcHRzID0gbnVsbDtcclxuICAgICAgICAgICAgY3R4LiR0cmlnZ2VyID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGNhbmNlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob29rKG9wdHMsICdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG9vayhvcHRzLCAnYWZ0ZXInLCBwb3MsICR0cmlnZ2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmhvb2sob3B0cywgJ2NvbXBsZXRlJywgY2FuY2VsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIGFuZCBtZXRob2QgY2FsbC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUuaG9vayA9IGZ1bmN0aW9uIChvcHRpb25zLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gb3B0aW9uc1t0eXBlXTtcclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrUmVzdWx0O1xyXG4gICAgICAgICAgICB2YXIgbWV0aG9kUmVzdWx0O1xyXG4gICAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrUmVzdWx0ID0gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncy5jb25jYXQoW3RoaXNdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbWV0aG9kXHJcbiAgICAgICAgICAgIG1ldGhvZFJlc3VsdCA9IChfYSA9IHRoaXMpW1wib25cIiArICh0eXBlWzBdLnRvVXBwZXJDYXNlKCkgKyB0eXBlLnNsaWNlKDEpKV0uYXBwbHkoX2EsIGFyZ3MpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tSZXN1bHQgIT09IHVuZGVmaW5lZCA/IGNhbGxiYWNrUmVzdWx0IDogbWV0aG9kUmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBldmVudHMgb2YgY29udGFpbmVyIGVsZW1lbnQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgU3dlZXRTY3JvbGwucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoY2xpY2ssIHN0b3ApIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgJGVsID0gX2EuJGVsLCBvcHRzID0gX2EuY3R4Lm9wdHM7XHJcbiAgICAgICAgICAgIGlmICgkZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KCRlbCwgQ09OVEFJTkVSX0NMSUNLX0VWRU5ULCB0aGlzLmhhbmRsZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KCRlbCwgQ09OVEFJTkVSX1NUT1BfRVZFTlQsIHRoaXMuaGFuZGxlU3RvcCwgb3B0cyA/IG9wdHMuY2FuY2VsbGFibGUgOiB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVW5iaW5kIGV2ZW50cyBvZiBjb250YWluZXIgZWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBTd2VldFNjcm9sbC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGNsaWNrLCBzdG9wKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsICRlbCA9IF9hLiRlbCwgb3B0cyA9IF9hLmN0eC5vcHRzO1xyXG4gICAgICAgICAgICBpZiAoJGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xpY2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudCgkZWwsIENPTlRBSU5FUl9DTElDS19FVkVOVCwgdGhpcy5oYW5kbGVDbGljaywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudCgkZWwsIENPTlRBSU5FUl9TVE9QX0VWRU5ULCB0aGlzLmhhbmRsZVN0b3AsIG9wdHMgPyBvcHRzLmNhbmNlbGxhYmxlIDogdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFlvdSBjYW4gc2V0IFBvbHlmaWxsIChvciBQb255ZmlsbCkgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFN3ZWV0U2Nyb2xsLnJhZiA9IHJhZjtcclxuICAgICAgICBTd2VldFNjcm9sbC5jYWYgPSBjYWY7XHJcbiAgICAgICAgcmV0dXJuIFN3ZWV0U2Nyb2xsO1xyXG4gICAgfSgpKTtcblxuICAgIHJldHVybiBTd2VldFNjcm9sbDtcblxufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3dlZXQtc2Nyb2xsL3N3ZWV0LXNjcm9sbC5qc1xuLy8gbW9kdWxlIGlkID0gMTIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=